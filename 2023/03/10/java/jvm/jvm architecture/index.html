<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Eric"><meta name="copyright" content="Eric"><meta name="generator" content="Hexo 5.2.0"><meta name="theme" content="hexo-theme-yun"><title>JVM Architecture | Eric's blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://fastly.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://fastly.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><script src="https://fastly.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer type="module"></script><script src="https://fastly.jsdelivr.net/npm/vue@2.6.14"></script><link rel="icon" type="image/png" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="prefetch" href="/js/sakura.js" as="script"><link rel="prefetch" href="/js/load-aplayer.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"soda1.github.io","root":"/","title":"Ericã®å°å±‹","version":"1.10.9","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":null},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="Eric's blog" type="application/atom+xml"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" defer></script><script src="/js/load-aplayer.js" defer></script><meta name="description" content="ç»“æ„å›¾ JVMæ¶æ„å¦‚å›¾æ‰€ç¤ºï¼Œä¸»è¦åˆ†ä¸ºClassLoader Subsystemï¼Œ Runtime Data Areaï¼ŒExecution Engine ClassLoader Subsystemå®ƒçš„èŒèƒ½ä¸»è¦æ˜¯åŠ¨æ€åŠ è½½åˆ›å»ºç±»å¯¹è±¡ï¼Œç±»åœ¨ç¬¬ä¸€æ¬¡è¢«å¼•ç”¨æ—¶å°±éœ€è¦åˆ›å»ºç±»å¯¹è±¡ï¼Œä¸€ä¸ªç±»å¯¹è±¡è¢«åˆ›å»ºåŒ…å«Loadingã€Linkingã€initializationä¸‰ä¸ªé˜¶æ®µã€‚ Loadingåœ¨Loadingé˜¶æ®µæœ‰3ä¸ªç±»åŠ ">
<meta property="og:type" content="article">
<meta property="og:title" content="JVM Architecture">
<meta property="og:url" content="http://soda1.github.io/2023/03/10/java/jvm/jvm%20architecture/index.html">
<meta property="og:site_name" content="Eric&#39;s blog">
<meta property="og:description" content="ç»“æ„å›¾ JVMæ¶æ„å¦‚å›¾æ‰€ç¤ºï¼Œä¸»è¦åˆ†ä¸ºClassLoader Subsystemï¼Œ Runtime Data Areaï¼ŒExecution Engine ClassLoader Subsystemå®ƒçš„èŒèƒ½ä¸»è¦æ˜¯åŠ¨æ€åŠ è½½åˆ›å»ºç±»å¯¹è±¡ï¼Œç±»åœ¨ç¬¬ä¸€æ¬¡è¢«å¼•ç”¨æ—¶å°±éœ€è¦åˆ›å»ºç±»å¯¹è±¡ï¼Œä¸€ä¸ªç±»å¯¹è±¡è¢«åˆ›å»ºåŒ…å«Loadingã€Linkingã€initializationä¸‰ä¸ªé˜¶æ®µã€‚ Loadingåœ¨Loadingé˜¶æ®µæœ‰3ä¸ªç±»åŠ ">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/20230310143101.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/20230310173929.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/20230311015106.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/20230311031540.jpg">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/20230311033334.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/20230311033405.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/20230311033431.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/20230311160312.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/20230311171414.png">
<meta property="article:published_time" content="2023-03-10T13:20:55.000Z">
<meta property="article:modified_time" content="2023-04-13T11:54:18.696Z">
<meta property="article:author" content="Eric">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/soda1/img/main/20230310143101.png"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Eric"><img width="96" loading="lazy" src="/yun.png" alt="Eric"><span class="site-author-status" title="çƒ­çˆ±å¯æŠµå²æœˆæ¼«é•¿">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">Eric</a></div><span class="site-name">Eric's blog</span><sub class="site-subtitle"></sub><div class="site-description">The best way is to get your hands dirty</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">72</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">0</span></a></div><a class="site-state-item hty-icon-button" href="/about" title="About"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%93%E6%9E%84%E5%9B%BE"><span class="toc-number">1.</span> <span class="toc-text">ç»“æ„å›¾</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ClassLoader-Subsystem"><span class="toc-number">2.</span> <span class="toc-text">ClassLoader Subsystem</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Loading"><span class="toc-number">2.1.</span> <span class="toc-text">Loading</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Delegation-Hierarchy-Algorithm"><span class="toc-number">2.2.</span> <span class="toc-text">Delegation Hierarchy Algorithm</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Linking"><span class="toc-number">2.3.</span> <span class="toc-text">Linking</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Initialization"><span class="toc-number">2.4.</span> <span class="toc-text">Initialization</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Runtime-Data-Area"><span class="toc-number">3.</span> <span class="toc-text">Runtime Data Area</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Execution-Engine"><span class="toc-number">4.</span> <span class="toc-text">Execution Engine</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#Interpreter"><span class="toc-number">4.1.</span> <span class="toc-text">Interpreter</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#JIT-Compiler"><span class="toc-number">4.2.</span> <span class="toc-text">JIT Compiler</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Garbage-Collector"><span class="toc-number">4.3.</span> <span class="toc-text">Garbage Collector</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%97%A0%E7%94%A8%E5%AF%B9%E8%B1%A1%E5%AE%9A%E4%B9%89"><span class="toc-number">4.3.1.</span> <span class="toc-text">æ— ç”¨å¯¹è±¡å®šä¹‰</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E7%AE%97%E6%B3%95"><span class="toc-number">4.3.2.</span> <span class="toc-text">åƒåœ¾å›æ”¶ç®—æ³•</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6"><span class="toc-number">4.3.3.</span> <span class="toc-text">åƒåœ¾å›æ”¶</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E5%99%A8"><span class="toc-number">4.3.4.</span> <span class="toc-text">åƒåœ¾å›æ”¶å™¨</span></a></li></ol></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://soda1.github.io/2023/03/10/java/jvm/jvm%20architecture/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Eric"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Eric's blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">JVM Architecture</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <span class="post-meta-icon-text">Posted on</span> <time title="Created: 2023-03-10 13:20:55" itemprop="dateCreated datePublished" datetime="2023-03-10T13:20:55+00:00">2023-03-10</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <span class="post-meta-icon-text">Edited on</span> <time title="Modified: 2023-04-13 11:54:18" itemprop="dateModified" datetime="2023-04-13T11:54:18+00:00">2023-04-13</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="Word count in article">2.3k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="Reading time">9m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/java/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">java</span></a></span></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h4 id="ç»“æ„å›¾"><a href="#ç»“æ„å›¾" class="headerlink" title="ç»“æ„å›¾"></a>ç»“æ„å›¾</h4><p><img src="https://raw.githubusercontent.com/soda1/img/main/20230310143101.png" loading="lazy"></p>
<p>JVMæ¶æ„å¦‚å›¾æ‰€ç¤ºï¼Œä¸»è¦åˆ†ä¸ºClassLoader Subsystemï¼Œ Runtime Data Areaï¼ŒExecution Engine</p>
<h4 id="ClassLoader-Subsystem"><a href="#ClassLoader-Subsystem" class="headerlink" title="ClassLoader Subsystem"></a>ClassLoader Subsystem</h4><p>å®ƒçš„èŒèƒ½ä¸»è¦æ˜¯åŠ¨æ€åŠ è½½åˆ›å»ºç±»å¯¹è±¡ï¼Œç±»åœ¨ç¬¬ä¸€æ¬¡è¢«å¼•ç”¨æ—¶å°±éœ€è¦åˆ›å»ºç±»å¯¹è±¡ï¼Œä¸€ä¸ªç±»å¯¹è±¡è¢«åˆ›å»ºåŒ…å«Loadingã€Linkingã€initializationä¸‰ä¸ªé˜¶æ®µã€‚</p>
<h5 id="Loading"><a href="#Loading" class="headerlink" title="Loading"></a>Loading</h5><p>åœ¨Loadingé˜¶æ®µæœ‰3ä¸ªç±»åŠ è½½å™¨ç”¨æ¥åŠ è½½Classæ–‡ä»¶</p>
<ol>
<li><p>BootStrap ClassLoaderï¼ˆå¯åŠ¨ç±»åŠ è½½å™¨ï¼‰</p>
<p>åŠ è½½<code>$JAVA_HOME/jre/lib</code>è·¯å¾„çš„æ ¸å¿ƒç±»ï¼ˆrt.jar etc)ï¼Œå®ƒæ˜¯æ‰€æœ‰åŠ è½½å™¨çš„é¡¶çº§çˆ¶ç±»</p>
</li>
<li><p>Extension ClassLoaderï¼ˆæ‰©å±•ç±»åŠ è½½å™¨ï¼‰</p>
<p>åŠ è½½<code>$JAVA_HOME/jre/lib/ext</code>è·¯å¾„ä¸‹çš„ç±»æˆ–åœ¨ç³»ç»Ÿå±æ€§<code>java.ext.dirs</code>åˆ—å‡ºçš„ç›®å½•ï¼Œå®ƒçš„ä¸Šå±‚çˆ¶ç±»æ˜¯BootStrap ClassLoader</p>
</li>
<li><p>Application ClassLoaderï¼ˆåº”ç”¨ç¨‹åºç±»åŠ è½½å™¨ï¼‰</p>
<p>ç°åœ¨å«åšSystem ClassLoaderï¼Œç”¨äºåŠ è½½åº”ç”¨è·¯å¾„ä¸‹çš„ç±»ï¼Œå®ƒçš„ä¸Šå±‚çˆ¶ç±»æ˜¯Extension ClassLoader</p>
</li>
</ol>
<h5 id="Delegation-Hierarchy-Algorithm"><a href="#Delegation-Hierarchy-Algorithm" class="headerlink" title="Delegation Hierarchy Algorithm"></a><strong>Delegation Hierarchy Algorithm</strong></h5><p>ä¸­æ–‡ä¹ æƒ¯å«åŒäº²å§”æ´¾æœºåˆ¶ï¼Œå“ªä¸ªå®¶ä¼™èµ·çš„åï¼ŒçœŸçš„è°¢è°¢ã€‚<strong>ä¸»è¦æ€æƒ³å°±æ˜¯åœ¨éœ€è¦åŠ è½½ä¸€ä¸ªç±»çš„æ—¶å€™ä¼˜å…ˆç”±å…¶çˆ¶ç±»åŠ è½½å™¨è¿›è¡Œå°è¯•åŠ è½½ï¼Œå¦‚æœçˆ¶ç±»åŠ è½½å™¨ä¸èƒ½åŠ è½½æ‰æœ‰å½“å‰ç±»è·¯å¾„ä¸‹çš„åŠ è½½å™¨è¿›è¡ŒåŠ è½½</strong></p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/20230310173929.jpg" loading="lazy"></p>
<p>ç›®çš„ï¼šé¿å…åŒä¸€ä¸ªç±»è¢«å¤šæ¬¡åŠ è½½ï¼Œä¿è¯Javaç¨³å®šå…è®¸</p>
<h5 id="Linking"><a href="#Linking" class="headerlink" title="Linking"></a>Linking</h5><ol>
<li><p>Verify</p>
<p>éªŒè¯classæ–‡ä»¶ä¸­çš„å­—èŠ‚æµæ˜¯å¦ç¬¦åˆè™šæ‹Ÿæœºçš„è¦æ±‚ï¼ŒåŒ…æ‹¬æœ‰<strong>æ–‡ä»¶æ ¼å¼çš„éªŒè¯ï¼Œå…ƒæ•°æ®çš„éªŒè¯ï¼Œå­—èŠ‚ç éªŒè¯ï¼Œç¬¦å·å¼•ç”¨éªŒè¯</strong></p>
</li>
<li><p>Prepare</p>
<p>å¯¹é™æ€å˜é‡è¿›è¡Œå†…å­˜åˆ†é…ï¼Œå¹¶èµ‹äºˆåˆå§‹å€¼</p>
</li>
<li><p>Resolve</p>
<p>å°†æ–¹æ³•åŒºå¯¹è±¡å†…çš„è¿è¡Œæ—¶å¸¸é‡æ± ä¸­çš„ç¬¦å·å¼•ç”¨è§£ææˆç›´æ¥å¼•ç”¨</p>
<blockquote>
<p>When a Java class is compiled, all references to variables and methods are stored in the classâ€™s constant pool as a symbolic reference. A symbolic reference is a logical reference not a reference that actually points to a physical memory location. The JVM implementation can choose when to resolve symbolic references, this can happen when the class file is verified, after being loaded, called eager or static resolution, instead this can happen when the symbolic reference is used for the first time called lazy or late resolution. However the JVM has to behave as if the resolution occurred when each reference is first used and throw any resolution errors at this point. Binding is the process of the field, method or class identified by the symbolic reference being replaced by a direct reference, this only happens once because the symbolic reference is completely replaced. If the symbolic reference refers to a class that has not yet been resolved then this class will be loaded. Each direct reference is stored as an offset against the storage structure associated with the runtime location of the variable or method.</p>
</blockquote>
</li>
</ol>
<h5 id="Initialization"><a href="#Initialization" class="headerlink" title="Initialization"></a>Initialization</h5><p>æ‰€æœ‰é™æ€å˜é‡éƒ½ä¼šè¢«èµ‹äºˆåˆå§‹å€¼ï¼Œé™æ€ä»£ç å—å°†ä¼šè¢«æ‰§è¡Œ</p>
<h4 id="Runtime-Data-Area"><a href="#Runtime-Data-Area" class="headerlink" title="Runtime Data Area"></a>Runtime Data Area</h4><p>è¿™ä¸ªæ˜¯Javaå†…å­˜ç®¡ç†åŒºåŸŸï¼Œä»¥ä¸‹å›¾åˆ†æä¼šæ¯”è¾ƒæ¸…æ™°</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/20230311015106.png" loading="lazy"></p>
<p><strong>Non Heap</strong></p>
<ul>
<li><p>method area</p>
<p>æ–¹æ³•åŒºç”¨äºå­˜å‚¨æ¯ä¸ªClasså¯¹è±¡çš„ä¿¡æ¯ï¼š</p>
<ul>
<li>Classloader Reference</li>
<li>Field data</li>
<li>Run Time Constant Pool</li>
<li>Method data</li>
<li>Method code</li>
</ul>
</li>
<li><p>interned String å­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œåœ¨1.8ç‰ˆæœ¬å®ƒè¢«ç§»åˆ°Heapé‡Œé¢äº†</p>
</li>
</ul>
<p>**Heap **</p>
<p>æ‰€æœ‰çš„å¯¹è±¡å®ä¾‹éƒ½ä¼šå­˜å‚¨åœ¨å †è¿™é‡Œï¼Œä¸ºæ‰€æœ‰çº¿ç¨‹å…±äº«</p>
<p>generationåŠåƒåœ¾å›æ”¶å†…å®¹æŸ¥çœ‹<a href="#Garbage-Collector">Garbage Collector</a></p>
<p><strong>Stack</strong></p>
<p>æ¯ä¸ªçº¿ç¨‹éƒ½æœ‰ä»¥ä¸‹ä¸‰ä¸ªç»„ä»¶</p>
<ol>
<li><p>Program Counter</p>
<p>PCç”¨äºå­˜å‚¨å½“å‰æŒ‡ä»¤è¿è¡Œä½ç½®çš„ï¼Œå¦‚æœå½“å‰è°ƒç”¨çš„nativeæ–¹æ³•ï¼Œé‚£ä¹ˆPCå€¼ä¸ºundefineï¼ŒJVMç”¨PCæ¥è·Ÿè¸ªå…¶æ‰§è¡ŒæŒ‡ä»¤ä½ç½®ï¼Œæ–¹ä¾¿åœ¨çº¿ç¨‹åœ¨è·å¾—cpuæ—¶é—´ç‰‡åç»§ç»­è¿è¡Œä¸‹å»</p>
</li>
<li><p>Stack</p>
<p>æŒ‰ç…§å…ˆè¿›åå‡ºè§„åˆ™æ‰§è¡Œï¼Œç”±å­˜å‚¨è°ƒç”¨æ–¹æ³•çš„æ ˆå¸§ç»„æˆï¼Œæ¯ä¸ªæ ˆå¸§åŒ…å«å¦‚ä¸‹ä¿¡æ¯ï¼š</p>
<ul>
<li>æœ¬åœ°å˜é‡æ•°ç»„ï¼ˆåŸºæœ¬ç±»å‹ï¼Œå¯¹è±¡å¼•ç”¨ï¼‰</li>
<li>è¿”å›å€¼</li>
<li>æ“ä½œæ•°æ ˆ</li>
<li>æ‰§è¡Œæ–¹æ³•åœ°å€</li>
</ul>
</li>
<li><p>Native Stack</p>
<p>ç±»ä¼¼äºStack</p>
</li>
</ol>
<h4 id="Execution-Engine"><a href="#Execution-Engine" class="headerlink" title="Execution Engine"></a>Execution Engine</h4><h5 id="Interpreter"><a href="#Interpreter" class="headerlink" title="Interpreter"></a><strong>Interpreter</strong></h5><p>ç”¨äºè§£é‡Šå­—èŠ‚ç ï¼Œå°†å…¶è½¬æ¢æˆç³»ç»Ÿè¯†åˆ«æŒ‡ä»¤ï¼Œä½¿å…¶èƒ½è¿è¡Œã€‚ç¼ºç‚¹åœ¨äºæ¯æ¬¡æ‰§è¡Œæ–¹æ³•éƒ½è¦å…ˆè§£é‡Šä¸€é</p>
<h5 id="JIT-Compiler"><a href="#JIT-Compiler" class="headerlink" title="JIT Compiler"></a><strong>JIT Compiler</strong></h5><p>ç”¨äºæ”¹æ­£è§£é‡Šå™¨ç¼ºç‚¹ï¼Œå½“ä»£ç ç¬¬ä¸€æ¬¡è¿è¡Œæ—¶ä¼šä½¿ç”¨è§£é‡Šå™¨æ¥è§£é‡Šä»£ç ï¼Œåé¢å¦‚æœå‘ç°æœ‰é‡å¤ä»£ç æ—¶ï¼Œä¼šä½¿ç”¨JITç¼–è¯‘å™¨ï¼Œå°†ä»£ç ç¼–è¯‘æˆnative codeã€‚native codeå°†ç›´æ¥ç”¨äºé‡å¤æ–¹æ³•çš„è°ƒç”¨ï¼Œä»è€Œæé«˜ç³»ç»Ÿæ€§èƒ½</p>
<h5 id="Garbage-Collector"><a href="#Garbage-Collector" class="headerlink" title="Garbage Collector"></a><strong>Garbage Collector</strong></h5><p>åƒåœ¾å›æ”¶å™¨ç”¨äºå›æ”¶æ— ç”¨å¯¹è±¡ï¼Œä»è€Œé‡Šæ”¾å†…å­˜ï¼Œé˜²æ­¢å†…å­˜æ³„éœ²ã€‚Javaä¸­çš„åƒåœ¾å›æ”¶æ˜¯è‡ªåŠ¨çš„ï¼Œä¹Ÿå¯ä»¥é€šè¿‡è°ƒç”¨<code>System.gc()</code>æ¥è§¦å‘</p>
<h6 id="æ— ç”¨å¯¹è±¡å®šä¹‰"><a href="#æ— ç”¨å¯¹è±¡å®šä¹‰" class="headerlink" title="æ— ç”¨å¯¹è±¡å®šä¹‰"></a><strong>æ— ç”¨å¯¹è±¡å®šä¹‰</strong></h6><p>åœ¨Javaä¸­æœ‰ä¸€äº›å¯¹è±¡è¢«ç§°ä¸º <strong>Garbage Collection Roots</strong>ï¼ˆGC Roots)ï¼Œå®ƒä»¬åœ¨åƒåœ¾å›æ”¶ä¸­è¢«ä½œä¸ºRootå¯¹è±¡æ¥ç”¨äºè¿›è¡Œå¯è¾¾æ€§åˆ†æã€‚å¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œå¦‚æœä¸€ä¸ªå¯¹è±¡å’Œä»»ä½•GC Rooté—´ä¸å­˜åœ¨<strong>å¼•ç”¨é“¾</strong>ï¼Œé‚£ä¹ˆå°±è¯´æ˜è¯¥å¯¹è±¡æ˜¯æ— ç”¨å¯¹è±¡</p>
<blockquote>
<p>Every object tree must have one or more root objects. As long as the application can reach those roots, the whole tree is reachable.But when are those root objects considered reachable? Special objects called garbage-collection roots (GC roots; see Figure below) are always reachable and so is any object that has a garbage-collection root at its own root.</p>
</blockquote>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/20230311031540.jpg" loading="lazy"></p>
<p>æœ‰4ç§ç±»å‹GC Roots</p>
<ul>
<li>Local variables</li>
<li>Static variables</li>
<li>Active Java threads </li>
<li>JNI References</li>
</ul>
<p><strong>å›æ”¶å™¨é’ˆå¯¹Javaå¼•ç”¨ç±»å‹å›æ”¶ç­–ç•¥</strong></p>
<ul>
<li><p>Strong Referenceï¼ˆå¼ºå¼•ç”¨ï¼‰</p>
<p>åªè¦å¯è¾¾GC rootå°±ä¸ä¼šå›æ”¶</p>
</li>
<li><p>Soft Referenceï¼ˆè½¯å¼•ç”¨ï¼‰</p>
<p>å†…å­˜ç©ºé—´ä¸è¶³çš„æ—¶å€™å°±ä¼šè¢«å›æ”¶</p>
</li>
<li><p>Weak Referenceï¼ˆå¼±åº”ç”¨ï¼‰</p>
<p>åªè¦è¢«åƒåœ¾å›æ”¶æœŸæ‰«æåˆ°å°±ä¼šå›æ”¶</p>
</li>
<li><p>Phantom Referenceï¼ˆè™šå¼•ç”¨ï¼‰</p>
<p>ä»»ä½•æ—¶å€™éƒ½ä¼šè¢«å›æ”¶</p>
</li>
</ul>
<h6 id="åƒåœ¾å›æ”¶ç®—æ³•"><a href="#åƒåœ¾å›æ”¶ç®—æ³•" class="headerlink" title="åƒåœ¾å›æ”¶ç®—æ³•"></a>åƒåœ¾å›æ”¶ç®—æ³•</h6><ul>
<li><p>æ ‡è®° â€” æ¸…é™¤ç®—æ³•</p>
<p>å°†å¯å›æ”¶å¯¹è±¡å…ˆæ ‡è®°å‡ºæ¥ï¼Œç„¶åå†æ¸…é™¤ã€‚è¿™ç§ç®—æ³•ä¼šé€ æˆå†…å­˜ç¢ç‰‡ï¼Œå¯¼è‡´æœ¬æ¥æœ‰è¶³å¤Ÿçš„å®¹é‡æ¥åˆ†é…ç»™æ–°çš„å¯¹è±¡ï¼Œä½†å´æ— æ³•åˆ†é…</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/20230311033334.png" loading="lazy"></p>
</li>
<li><p>å¤åˆ¶ç®—æ³•</p>
<p>å¤åˆ¶ç®—æ³•ä»æ ‡è®°-æ¸…é™¤ç®—æ³•æ¼”è¿›è€Œæ¥ï¼Œè§£å†³äº†å†…å­˜ç¢ç‰‡åŒ–é—®é¢˜ã€‚å°†å†…å­˜åˆ†ä¸ºå‡ç­‰ä¸¤å—ï¼Œæ¯æ¬¡åªç”¨ä¸€å—ï¼Œå½“ä¸€å—å†…å­˜ç”¨å®Œæ—¶ï¼Œå°±å°†å­˜æ´»çš„å¯¹è±¡æ¬åˆ°å¦ä¸€å—å»ï¼Œç„¶åæŠŠç›´æ¥æ¸…ç†å†…å­˜ç©ºé—´ã€‚ç®—æ³•çš„å¼Šç«¯åœ¨äºåªèƒ½ä½¿ç”¨ä¸€åŠçš„å†…å­˜</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/20230311033405.png" loading="lazy"></p>
</li>
<li><p>æ ‡è®°æ•´ç†ç®—æ³•</p>
<p>æ ‡è®°æ•´ç†ç®—æ³•ä¸­æ ‡è®°è¿‡ç¨‹å’Œæ ‡è®°æ¸…é™¤ç®—æ³•ä¸€è‡´ï¼Œç„¶åæ•´ç†æ—¶å­˜æ´»å¯¹è±¡ä¼šå‘ä¸€ç«¯ç§»åŠ¨ï¼Œæœ€åæ¸…é™¤å­˜æ´»å¯¹è±¡è¾¹ç•Œä»¥å¤–çš„å†…å­˜åŒºåŸŸã€‚ç”±äºå†…å­˜çš„é¢‘ç¹ç§»åŠ¨ï¼Œåœ¨æ•ˆç‡ä¸Šä¼šæ¯”å¤åˆ¶ç®—æ³•å·®</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/20230311033431.png" loading="lazy"></p>
</li>
</ul>
<h6 id="åƒåœ¾å›æ”¶"><a href="#åƒåœ¾å›æ”¶" class="headerlink" title="åƒåœ¾å›æ”¶"></a>åƒåœ¾å›æ”¶</h6><p>å¤§å¤šæ•°å¯¹è±¡çš„ç”Ÿå‘½å‘¨æœŸéƒ½æ˜¯éå¸¸çŸ­çš„ï¼Œåªæœ‰å°‘éƒ¨åˆ†çš„å¯¹è±¡ä¼šä¸€ç›´å­˜åœ¨ï¼Œå› æ­¤JVMå°†Heapåˆ†æˆäº†å‡ éƒ¨åˆ†ï¼Œå¦‚ä¸‹é¢å®˜æ–¹å›¾æ‰€ç¤º</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/20230311160312.png" loading="lazy"></p>
<ul>
<li><p>Young Generation</p>
<p>æ–°åˆ›å»ºå¯¹è±¡ä¼šè¢«åˆ†é…åœ¨å¹´è½»ä»£çš„EdenåŒºé‡Œé¢ï¼Œå½“EdenåŒºæ»¡åä¼šè§¦å‘Minor GCï¼Œå­˜æ´»ä¸‹æ¥çš„å¯¹è±¡ä¼šè¿›å…¥SurvivoråŒºä¸”è¢«æ ‡è®°å¹´é¾„ = 1ï¼Œè€ŒåŸå…ˆåœ¨SurvivoråŒºç»§ç»­å­˜æ´»ä¸‹æ¥çš„å¯¹è±¡åˆ™å¹´é¾„+1ï¼Œç„¶åå°†EdenåŒºæ¸…ç©º</p>
<p>SurvivoråŒºåˆç»†åˆ†ä¸ºS0å’ŒS1ä¸¤ä¸ªåŒºï¼ŒåŸå› åœ¨äºSurvivoråŒºçš„å¯¹è±¡ä¹Ÿä¼šæœ‰è¢«æ¸…ç†æ‰çš„å¯èƒ½æ€§ï¼Œè¿™æ ·ä¼šäº§ç”Ÿå†…å­˜ç¢ç‰‡ï¼ŒJVMé‡‡ç”¨äº†å¤åˆ¶ç®—æ³•æ¥æ•´ç†å†…å­˜</p>
<p>åœ¨ç»å†å¤šè½®çš„GCåï¼ŒSurvivorä¸­å­˜æ´»çš„å¯¹è±¡ä¸€æ—¦è¾¾åˆ°å¹´è½»ä»£è®¾ç½®çš„å¹´é¾„ä¸Šé™åä¼šè¿›å…¥è€å¹´ä»£ï¼Œè¿˜æœ‰ä¸€äº›ç‰¹æ®Šçš„æƒ…å†µä¼šç›´æ¥è¿›å…¥è€å¹´åŒºï¼š</p>
<ul>
<li>å½“å¯¹è±¡æ— æ³•æ”¾å…¥SurvivoråŒº</li>
<li>å½“å¤§å¯¹è±¡æ— æ³•æ”¾å…¥æ¸…ç†åçš„EdenåŒº</li>
</ul>
<p>å¹´è½»ä»£Minor GCå…·ä½“æµç¨‹æŸ¥çœ‹<a target="_blank" rel="noopener" href="https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html">Java Garbage Collection Basics</a></p>
</li>
<li><p>Old Generation</p>
<p>è€å¹´ä»£ç”¨äºæ”¾ç½®é•¿æœŸå­˜æ´»çš„å¯¹è±¡ï¼Œå½“è€å¹´ä»£æ— æ³•å­˜æ”¾æ–°çš„å¯¹è±¡æ—¶ä¼šè§¦å‘Major GCï¼Œå¯¹è€å¹´ä»£è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œé‡Šæ”¾å†…å­˜</p>
</li>
<li><p>Permanent generation</p>
<p>æ°¸ä¹…ä»£å­˜å‚¨çš„æ˜¯Classå¯¹è±¡åŠæ–¹æ³•ï¼Œå¯¹åº”JVMç»“æ„ä¸­çš„æ–¹æ³•åŒºï¼Œè§¦å‘Full GCæ—¶ä¼šå¯¹æ°¸ä¹…ä»£è¿›è¡Œåƒåœ¾å›æ”¶</p>
<p>æ°¸ä¹…ä»£ä¸å±äºHeapï¼Œä¸Šé¢çš„å®˜æ–¹å›¾æ˜¯ä»generationçš„è§’åº¦æ¥è§£é‡Šå…¶å†…å­˜ç»“æ„ï¼Œä¸‹é¢å›¾å¯ä»¥å¾ˆå¥½æè¿°</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/20230311171414.png" loading="lazy"></p>
<p>åœ¨1.8ç‰ˆæœ¬ä½¿ç”¨ Meta spaceæ¥æ›¿ä»£Permanent generation</p>
</li>
</ul>
<h6 id="åƒåœ¾å›æ”¶å™¨"><a href="#åƒåœ¾å›æ”¶å™¨" class="headerlink" title="åƒåœ¾å›æ”¶å™¨"></a>åƒåœ¾å›æ”¶å™¨</h6><ul>
<li><p>The Serial GC</p>
<p>ä¸²è¡ŒåŒ–æ”¶é›†å™¨ï¼ŒMinor å’ŒMajor GCéƒ½æ˜¯ä¸²è¡Œè¿›è¡Œçš„ï¼Œå³å•çº¿ç¨‹ã€‚ä½¿ç”¨æ ‡è®°æ•´ç†ç®—æ³•ï¼Œå­˜åœ¨Stop The Worldé—®é¢˜</p>
<p>åº”ç”¨åœºæ™¯ï¼šé€‚åˆå®¢æˆ·ç«¯æ¨¡å¼ä¸‹çš„è™šæ‹Ÿæœºï¼ˆéœ€è¦æ¯”è¾ƒå°‘çš„å†…å­˜ï¼‰</p>
<p>ä½¿ç”¨ï¼š<code>-XX:+UseSerialGC</code></p>
</li>
<li><p>The Parallel GC</p>
<p>å¹¶è¡Œæ”¶é›†å™¨ä½¿ç”¨å¤šçº¿ç¨‹æ¥å¯¹å¹´è½»ä»£è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œé»˜è®¤ä½¿ç”¨CPUä¸ªæ•°çš„çº¿ç¨‹è¿›ç¨‹å›æ”¶ï¼Œå­˜åœ¨Stop The Worldé—®é¢˜</p>
<p>åº”ç”¨åœºæ™¯ï¼šé€‚ç”¨äºè¿½æ±‚é«˜ååé‡ï¼Œä¸éœ€è¦å¤ªå¤šäº¤äº’</p>
<p>ä½¿ç”¨ï¼š</p>
<ul>
<li><code>-XX:+UseParallelGC</code>ï¼šå¹´è½»ä»£å›æ”¶ä½¿ç”¨å¤šçº¿ç¨‹ï¼Œè€å¹´ä»£å›æ”¶ä½¿ç”¨çš„å•çº¿ç¨‹</li>
<li><code>-XX:+UseParallelOldGC</code>ï¼šå¹´è½»ä»£è€å¹´ä»£éƒ½æ˜¯ç”¨å¤šçº¿ç¨‹</li>
</ul>
<p>è€å¹´ä»£éƒ½ä½¿ç”¨æ ‡è®°-æ•´ç†ç®—æ³•ï¼Œå¹´è½»ä»£ç”¨å¤åˆ¶ç®—æ³•</p>
</li>
<li><p>The Concurrent Mark Sweep (CMS) Collector</p>
<p>CMSæ˜¯ä¸€ç§ä»¥å¹¶å‘çš„æ–¹å¼è¿›è¡Œåƒåœ¾å›æ”¶ï¼Œä»¥æœ€çŸ­å›æ”¶å¡é¡¿æ—¶é—´ä¸ºç›®æ ‡çš„æ”¶é›†å™¨ï¼Œä¸»è¦ç”¨äºè€å¹´ä»£ï¼Œé‡‡ç”¨æ ‡è®°-æ¸…é™¤ç®—æ³•ï¼Œä¼šé€ æˆç¢ç‰‡åŒ–é—®é¢˜ï¼Œå¼•å‘Full GCï¼Œå¯¼è‡´ä¸´æ—¶ä½¿ç”¨Serial GCè¿›è¡Œè€å¹´ä»£åƒåœ¾å›æ”¶</p>
<p>CMSç”¨äºå¹´è½»ä»£æ—¶å’Œå¹¶è¡Œæ”¶é›†å™¨é‡‡ç”¨åŒæ ·ç®—æ³•</p>
<p>åº”ç”¨åœºæ™¯ï¼šé‡è§†æœåŠ¡å™¨å“åº”é€Ÿåº¦ï¼Œè¦æ±‚ç³»ç»Ÿåœé¡¿æ—¶é—´æœ€çŸ­ã€‚</p>
<p>ä½¿ç”¨ï¼š<code>-XX:+UseConcMarkSweepGC</code></p>
</li>
<li><p>The G1 Garbage Collector</p>
<p>G1æ”¶é›†å™¨è®¾è®¡ç”¨äºå–ä»£CMSï¼Œå…·æœ‰å¹¶å‘ã€å¹¶è¡Œï¼Œä½å¡é¡¿æ—¶é—´ç­‰ç‰¹ç‚¹ã€‚G1æ•´ä½“æ¥çœ‹ä½¿ç”¨æ ‡è®°-æ•´ç†ç®—æ³•ï¼Œå±€éƒ¨ä½¿ç”¨å¤åˆ¶ç®—æ³•</p>
<p>åº”ç”¨åœºæ™¯ï¼šé¢å‘æœåŠ¡ç«¯åº”ç”¨</p>
<p>ä½¿ç”¨ï¼š<code>-XX:+UseG1GC</code></p>
</li>
</ul>
<p>å‚è€ƒï¼š</p>
<p><a target="_blank" rel="noopener" href="https://dzone.com/articles/jvm-architecture-explained" title="The JVM Architecture Explained">The JVM Architecture Explained</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.jamesdbloom.com/JVMInternals.html" title="JVM Internals">JVM Internals</a></p>
<p><a target="_blank" rel="noopener" href="https://dzone.com/articles/jvm-memory-architecture-and-gc" title="JVM Memory Architecture and GC Algorithm Basics">JVM Memory Architecture and GC Algorithm Basics</a></p>
<p><a target="_blank" rel="noopener" href="https://dzone.com/articles/java-memory-management" title="Java Memory Management">Java Memory Management</a></p>
<p><a target="_blank" rel="noopener" href="https://www.w3resource.com/java-tutorial/garbage-collection-in-java.php" title="Garbage Collection in Java">Garbage Collection in Java</a></p>
<p><a target="_blank" rel="noopener" href="https://www.oracle.com/webfolder/technetwork/tutorials/obe/java/gc01/index.html" title="Java Garbage Collection Basics">Java Garbage Collection Basics</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.jamesdbloom.com/JVMInternals.html" title="JVM Internals"></a></p>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Eric</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://soda1.github.io/2023/03/10/java/jvm/jvm%20architecture/" title="JVM Architecture">http://soda1.github.io/2023/03/10/java/jvm/jvm%20architecture/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> unless otherwise stated.</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2023/03/12/java/jvm/JVM%E8%B0%83%E4%BC%98/" rel="prev" title="JVMè°ƒä¼˜"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">JVMè°ƒä¼˜</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2023/03/09/mysql/%E9%AB%98%E7%BA%A7/mysql%E6%89%A9%E5%AE%B9/" rel="next" title="mysqlæ‰©å®¹"><span class="post-nav-text">mysqlæ‰©å®¹</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><style>.utterances {
  max-width: 100%;
}</style><script src="https://utteranc.es/client.js" repo="soda1/soda1.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2023 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Eric</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.9</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""></div><div class="search-result-container"></div></div><div class="aplayer no-destroy" id="aplayer" data-id="308168565" data-server="netease" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></body></html>