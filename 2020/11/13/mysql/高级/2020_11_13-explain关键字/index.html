<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="theme-color" content="#0078E7"><meta name="author" content="Eric"><meta name="copyright" content="Eric"><meta name="generator" content="Hexo 5.2.0"><meta name="theme" content="hexo-theme-yun"><title>explainå…³é”®å­— | Eric's blog</title><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@900&amp;display=swap" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/star-markdown-css@0.4.1/dist/yun/yun-markdown.min.css"><link rel="stylesheet" href="https://fastly.jsdelivr.net/npm/prism-theme-vars/base.css"><script src="https://fastly.jsdelivr.net/npm/scrollreveal/dist/scrollreveal.min.js" defer></script><script>function initScrollReveal() {
  [".post-card",".markdown-body img"].forEach((target)=> {
    ScrollReveal().reveal(target);
  })
}
document.addEventListener("DOMContentLoaded", initScrollReveal);
document.addEventListener("pjax:success", initScrollReveal);
</script><link class="aplayer-style-marker" rel="stylesheet" type="text/css" href="https://fastly.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.css"><script class="aplayer-script-marker" src="https://fastly.jsdelivr.net/npm/aplayer@latest/dist/APlayer.min.js" defer></script><script class="meting-script-marker" src="https://fastly.jsdelivr.net/npm/meting@1/dist/Meting.min.js" defer></script><script src="https://fastly.jsdelivr.net/npm/pjax@latest/pjax.min.js" defer></script><script src="/js/pjax.js" defer type="module"></script><script src="https://fastly.jsdelivr.net/npm/vue@2.6.14"></script><link rel="icon" type="image/png" href="/favicon.ico"><link rel="mask-icon" href="/favicon.ico" color="#0078E7"><link rel="preload" href="/css/hexo-theme-yun.css" as="style"><link rel="prefetch" href="/js/sidebar.js" as="script"><link rel="prefetch" href="/js/sakura.js" as="script"><link rel="prefetch" href="/js/load-aplayer.js" as="script"><link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin><link rel="preconnect" href="https://fastly.jsdelivr.net/npm/" crossorigin><script id="yun-config">
    window.Yun = {}
    window.CONFIG = {"hostname":"soda1.github.io","root":"/","title":"Ericã®å°å±‹","version":"1.10.9","mode":"auto","copycode":true,"page":{"isPost":true},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}.","hits":"${hits} results found","hits_time":"${hits} results found in ${time} ms"},"anonymous_image":"https://cdn.yunyoujun.cn/img/avatar/none.jpg","say":{"api":"https://el-bot-api.vercel.app/api/words/young"},"local_search":{"path":"/search.xml"},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"fireworks":{"colors":null},"vendors":{"host":"https://fastly.jsdelivr.net/npm/","darken":"https://fastly.jsdelivr.net/npm/darken@1.5.0"}};
  </script><link rel="stylesheet" href="/css/hexo-theme-yun.css"><script src="/js/hexo-theme-yun.js" type="module"></script><link rel="alternate" href="/atom.xml" title="Eric's blog" type="application/atom+xml"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.css"><script src="https://cdn.jsdelivr.net/npm/aplayer@1.10.1/dist/APlayer.min.js" defer></script><script src="/js/load-aplayer.js" defer></script><meta name="description" content="æ¦‚è¿°ä½¿ç”¨EXPLAINå…³é”®å­—å¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€ŒçŸ¥é“MySQLæ˜¯å¦‚ä½•å¤„ç†ä½ çš„SQLè¯­å¥çš„ã€‚åˆ†æä½ çš„æŸ¥è¯¢è¯­å¥æˆ–æ˜¯è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆ ä½¿ç”¨ è¯­æ³•   Explain + SQLè¯­å¥   æŸ¥çœ‹ä¼˜åŒ–åçš„SQLè¯­å¥ show warnings;  ç®€å•ä¾‹å­ EXPLAIN select * from titles where to_date&#x3D;&#39;9999-01-01&#39;;">
<meta property="og:type" content="article">
<meta property="og:title" content="explainå…³é”®å­—">
<meta property="og:url" content="http://soda1.github.io/2020/11/13/mysql/%E9%AB%98%E7%BA%A7/2020_11_13-explain%E5%85%B3%E9%94%AE%E5%AD%97/index.html">
<meta property="og:site_name" content="Eric&#39;s blog">
<meta property="og:description" content="æ¦‚è¿°ä½¿ç”¨EXPLAINå…³é”®å­—å¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€ŒçŸ¥é“MySQLæ˜¯å¦‚ä½•å¤„ç†ä½ çš„SQLè¯­å¥çš„ã€‚åˆ†æä½ çš„æŸ¥è¯¢è¯­å¥æˆ–æ˜¯è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆ ä½¿ç”¨ è¯­æ³•   Explain + SQLè¯­å¥   æŸ¥çœ‹ä¼˜åŒ–åçš„SQLè¯­å¥ show warnings;  ç®€å•ä¾‹å­ EXPLAIN select * from titles where to_date&#x3D;&#39;9999-01-01&#39;;">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/image-20201113172657250.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/image-20201113223418978.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/image-20201113223754251.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/image-20201113224234083.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/EF90801E-0F46-4006-86B0-D00FF9A41BAB.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/image-20201113231321133.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/2F45DD10-6247-4FC7-A7DA-509AE0D9C949.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/image-20201113231132956.png">
<meta property="og:image" content="https://raw.githubusercontent.com/soda1/img/main/image-20201113231242885.png">
<meta property="article:published_time" content="2020-11-13T15:22:52.000Z">
<meta property="article:modified_time" content="2022-05-28T20:34:11.000Z">
<meta property="article:author" content="Eric">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://raw.githubusercontent.com/soda1/img/main/image-20201113172657250.png"><script>(function() {
  if (CONFIG.mode !== 'auto') return
  const prefersDark = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches
  const setting = localStorage.getItem('darken-mode') || 'auto'
  if (setting === 'dark' || (prefersDark && setting !== 'light'))
    document.documentElement.classList.toggle('dark', true)
})()</script><!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/hexo-math@4.0.0/dist/style.css">
<!-- hexo injector head_end end --></head><body><script src="https://code.iconify.design/2/2.1.1/iconify.min.js"></script><script>// Define global variable
IconifyProviders = {
  // Empty prefix: overwrite default API provider configuration
  '': {
    // Use custom API first, use Iconify public API as backup
    resources: [
        'https://api.iconify.design',
    ],
    // Wait for 1 second before switching API hosts
    rotate: 1000,
  },
};</script><script defer src="https://fastly.jsdelivr.net/npm/animejs@latest"></script><script defer src="/js/ui/fireworks.js" type="module"></script><canvas class="fireworks"></canvas><div class="container"><a class="sidebar-toggle hty-icon-button" id="menu-btn"><div class="hamburger hamburger--spin" type="button"><span class="hamburger-box"><span class="hamburger-inner"></span></span></div></a><div class="sidebar-toggle sidebar-overlay"></div><aside class="sidebar"><script src="/js/sidebar.js" type="module"></script><ul class="sidebar-nav"><li class="sidebar-nav-item sidebar-nav-toc hty-icon-button sidebar-nav-active" data-target="post-toc-wrap" title="Table of Contents"><span class="icon iconify" data-icon="ri:list-ordered"></span></li><li class="sidebar-nav-item sidebar-nav-overview hty-icon-button" data-target="site-overview-wrap" title="Overview"><span class="icon iconify" data-icon="ri:passport-line"></span></li></ul><div class="sidebar-panel" id="site-overview-wrap"><div class="site-info fix-top"><a class="site-author-avatar" href="/about/" title="Eric"><img width="96" loading="lazy" src="/yun.png" alt="Eric"><span class="site-author-status" title="çƒ­çˆ±å¯æŠµå²æœˆæ¼«é•¿">ğŸ˜Š</span></a><div class="site-author-name"><a href="/about/">Eric</a></div><span class="site-name">Eric's blog</span><sub class="site-subtitle"></sub><div class="site-description">The best way is to get your hands dirty</div></div><nav class="site-state"><a class="site-state-item hty-icon-button icon-home" href="/" title="Home"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:home-4-line"></span></span></a><div class="site-state-item"><a href="/archives/" title="Archives"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:archive-line"></span></span><span class="site-state-item-count">72</span></a></div><div class="site-state-item"><a href="/categories/" title="Categories"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:folder-2-line"></span></span><span class="site-state-item-count">11</span></a></div><div class="site-state-item"><a href="/tags/" title="Tags"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:price-tag-3-line"></span></span><span class="site-state-item-count">0</span></a></div><a class="site-state-item hty-icon-button" href="/about" title="About"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:settings-line"></span></span></a></nav><hr style="margin-bottom:0.5rem"><br><a class="links-item hty-icon-button" id="toggle-mode-btn" href="javascript:;" title="Mode" style="color: #f1cb64"><span class="icon iconify" data-icon="ri:contrast-2-line"></span></a></div><div class="sidebar-panel sidebar-panel-active" id="post-toc-wrap"><div class="post-toc"><div class="post-toc-content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A6%82%E8%BF%B0"><span class="toc-number">1.</span> <span class="toc-text">æ¦‚è¿°</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">2.</span> <span class="toc-text">ä½¿ç”¨</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Explain%E5%AD%97%E6%AE%B5"><span class="toc-number">3.</span> <span class="toc-text">Explainå­—æ®µ</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#id"><span class="toc-number">3.1.</span> <span class="toc-text">id</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#select-type"><span class="toc-number">3.2.</span> <span class="toc-text">select_type</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#table"><span class="toc-number">3.3.</span> <span class="toc-text">table</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#partitions"><span class="toc-number">3.4.</span> <span class="toc-text">partitions</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#type"><span class="toc-number">3.5.</span> <span class="toc-text">type</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#possible-keys"><span class="toc-number">3.6.</span> <span class="toc-text">possible_keys</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#key"><span class="toc-number">3.7.</span> <span class="toc-text">key</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#key-len"><span class="toc-number">3.8.</span> <span class="toc-text">key_len</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#ref"><span class="toc-number">3.9.</span> <span class="toc-text">ref</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#rows"><span class="toc-number">3.10.</span> <span class="toc-text">rows</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#filtered"><span class="toc-number">3.11.</span> <span class="toc-text">filtered</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Extra"><span class="toc-number">3.12.</span> <span class="toc-text">Extra</span></a></li></ol></li></ol></div></div></div></aside><main class="sidebar-translate" id="content"><div id="post"><article class="hty-card post-block" itemscope itemtype="https://schema.org/Article" style="--smc-primary:#0078E7;"><link itemprop="mainEntityOfPage" href="http://soda1.github.io/2020/11/13/mysql/%E9%AB%98%E7%BA%A7/2020_11_13-explain%E5%85%B3%E9%94%AE%E5%AD%97/"><span hidden itemprop="author" itemscope itemtype="https://schema.org/Person"><meta itemprop="name" content="Eric"><meta itemprop="description"></span><span hidden itemprop="publisher" itemscope itemtype="https://schema.org/Organization"><meta itemprop="name" content="Eric's blog"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">explainå…³é”®å­—</h1><div class="post-meta"><div class="post-time" style="display:block"><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-line"></span></span> <span class="post-meta-icon-text">Posted on</span> <time title="Created: 2020-11-13 15:22:52" itemprop="dateCreated datePublished" datetime="2020-11-13T15:22:52+00:00">2020-11-13</time><span class="post-meta-divider">-</span><span class="post-meta-item-icon"><span class="icon iconify" data-icon="ri:calendar-2-line"></span></span> <span class="post-meta-icon-text">Edited on</span> <time title="Modified: 2022-05-28 20:34:11" itemprop="dateModified" datetime="2022-05-28T20:34:11+00:00">2022-05-28</time></div><span class="post-count"><span class="post-symbolcount"><span class="post-meta-item-icon" title="Word count in article"><span class="icon iconify" data-icon="ri:file-word-line"></span></span> <span title="Word count in article">1.7k</span><span class="post-meta-divider">-</span><span class="post-meta-item-icon" title="Reading time"><span class="icon iconify" data-icon="ri:timer-line"></span></span> <span title="Reading time">6m</span></span></span><div class="post-classify"><span class="post-category"> <span class="post-meta-item-icon" style="margin-right:3px;"><span class="icon iconify" data-icon="ri:folder-line"></span></span><span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/mysql/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">mysql</span></a></span> > <span itemprop="about" itemscope itemtype="https://schema.org/Thing"><a class="category-item" href="/categories/mysql/adv/" style="--text-color:var(--hty-text-color)" itemprop="url" rel="index"><span itemprop="text">adv</span></a></span></span></div></div></header><section class="post-body" itemprop="articleBody"><div class="post-content markdown-body"><h4 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h4><p>ä½¿ç”¨EXPLAINå…³é”®å­—å¯ä»¥æ¨¡æ‹Ÿä¼˜åŒ–å™¨æ‰§è¡ŒSQLæŸ¥è¯¢è¯­å¥ï¼Œä»è€ŒçŸ¥é“MySQLæ˜¯å¦‚ä½•å¤„ç†ä½ çš„SQLè¯­å¥çš„ã€‚åˆ†æä½ çš„æŸ¥è¯¢è¯­å¥æˆ–æ˜¯è¡¨ç»“æ„çš„æ€§èƒ½ç“¶é¢ˆ</p>
<h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><ul>
<li><p>è¯­æ³•</p>
<pre><code>  Explain + SQLè¯­å¥</code></pre>
<p>  æŸ¥çœ‹ä¼˜åŒ–åçš„SQLè¯­å¥</p>
<pre><code>show warnings;</code></pre>
</li>
<li><p>ç®€å•ä¾‹å­</p>
<pre><code class="sql">EXPLAIN select * from titles where to_date=&#39;9999-01-01&#39;;</code></pre>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/image-20201113172657250.png" alt="image-20201113172657250" loading="lazy"></p>
</li>
</ul>
<h4 id="Explainå­—æ®µ"><a href="#Explainå­—æ®µ" class="headerlink" title="Explainå­—æ®µ"></a>Explainå­—æ®µ</h4><h5 id="id"><a href="#id" class="headerlink" title="id"></a>id</h5><p>selectæŸ¥è¯¢çš„åºåˆ—å·,åŒ…å«ä¸€ç»„æ•°å­—ï¼Œè¡¨ç¤ºæŸ¥è¯¢ä¸­æ‰§è¡Œselectå­å¥æˆ–æ“ä½œè¡¨çš„é¡ºåº</p>
<ul>
<li><p>idç›¸åŒï¼Œæ‰§è¡Œé¡ºåºç”±ä¸Šè‡³ä¸‹</p>
<pre><code class="sql">EXPLAIN select * from t1,t2,t3 where t1.id = t2.id and t2.id = t3.id;</code></pre>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/image-20201113223418978.png" alt="image-20201113223418978" loading="lazy"></p>
</li>
<li><p>idä¸åŒï¼Œå¦‚æœæ˜¯å­æŸ¥è¯¢ï¼Œidçš„åºå·ä¼šé€’å¢ï¼Œidå€¼è¶Šå¤§ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆè¢«æ‰§è¡Œ</p>
<pre><code class="sql">explain select t2.id from t2 where t2.id = (select t3.id from t3 where t3.content=&#39;t3_664&#39;);</code></pre>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/image-20201113223754251.png" alt="image-20201113223754251" loading="lazy"></p>
</li>
<li><p>idç›¸åŒä¸åŒï¼ŒåŒæ—¶å­˜åœ¨</p>
<p>idå¦‚æœç›¸åŒï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç»„ï¼Œä»ä¸Šå¾€ä¸‹é¡ºåºæ‰§è¡Œï¼›<br>åœ¨æ‰€æœ‰ç»„ä¸­ï¼Œidå€¼è¶Šå¤§ï¼Œä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå…ˆæ‰§è¡Œ</p>
</li>
</ul>
<h5 id="select-type"><a href="#select-type" class="headerlink" title="select_type"></a>select_type</h5><p>æŸ¥è¯¢çš„ç±»å‹ï¼Œä¸»è¦æ˜¯ç”¨äºåŒºåˆ«ï¼šæ™®é€šæŸ¥è¯¢ã€è”åˆæŸ¥è¯¢ã€å­æŸ¥è¯¢ç­‰çš„å¤æ‚æŸ¥è¯¢</p>
<ul>
<li><p>SIMPLE</p>
<p>ç®€å•çš„ select æŸ¥è¯¢,æŸ¥è¯¢ä¸­ä¸åŒ…å«å­æŸ¥è¯¢æˆ–è€…UNION</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/image-20201113224234083.png" alt="image-20201113224234083" loading="lazy"></p>
</li>
<li><p>PRIMARY</p>
<p>æŸ¥è¯¢ä¸­è‹¥åŒ…å«ä»»ä½•å¤æ‚çš„å­éƒ¨åˆ†ï¼Œæœ€å¤–å±‚æŸ¥è¯¢åˆ™è¢«æ ‡è®°ä¸ºPrimary</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/EF90801E-0F46-4006-86B0-D00FF9A41BAB.png" alt="image-20201113231321133" loading="lazy"></p>
<ul>
<li><p>DERIVED</p>
<p>åœ¨FROMåˆ—è¡¨ä¸­åŒ…å«çš„å­æŸ¥è¯¢è¢«æ ‡è®°ä¸ºDERIVED(è¡ç”Ÿ)</p>
<p>MySQLä¼šé€’å½’æ‰§è¡Œè¿™äº›å­æŸ¥è¯¢, æŠŠç»“æœæ”¾åœ¨ä¸´æ—¶è¡¨é‡Œã€‚</p>
</li>
<li><p>SUBQUERY</p>
<p>åœ¨SELECTæˆ–WHEREåˆ—è¡¨ä¸­åŒ…å«äº†å­æŸ¥è¯¢ï¼Œå­æŸ¥è¯¢ç»“æœä¸ºå•å€¼</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/image-20201113231321133.png" alt="img" loading="lazy"> </p>
</li>
<li><p>DEPENDENT SUBQUERY</p>
<p>åœ¨SELECTæˆ–WHEREåˆ—è¡¨ä¸­åŒ…å«äº†å­æŸ¥è¯¢,å­æŸ¥è¯¢åŸºäºå¤–å±‚ï¼Œå­æŸ¥è¯¢ä¸ºå¤šå€¼</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/2F45DD10-6247-4FC7-A7DA-509AE0D9C949.png" alt="img" loading="lazy"> </p>
</li>
<li><p>UNCACHEABLE SUBQUERY</p>
<p>æ— æ³•è¢«ç¼“å­˜çš„å­æŸ¥è¯¢</p>
</li>
<li><p>UNION</p>
<p>è‹¥ç¬¬äºŒä¸ªSELECTå‡ºç°åœ¨UNIONä¹‹åï¼Œåˆ™è¢«æ ‡è®°ä¸ºUNIONï¼›</p>
<p>è‹¥UNIONåŒ…å«åœ¨FROMå­å¥çš„å­æŸ¥è¯¢ä¸­,å¤–å±‚SELECTå°†è¢«æ ‡è®°ä¸ºï¼šDERIVED</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/image-20201113231132956.png" alt="image-20201113231132956" loading="lazy"></p>
</li>
<li><p>UNION RESULT</p>
<p>ä»UNIONè¡¨è·å–ç»“æœçš„SELECT</p>
<p><img src="https://raw.githubusercontent.com/soda1/img/main/image-20201113231242885.png" alt="image-20201113231242885" loading="lazy"></p>
</li>
</ul>
<h5 id="table"><a href="#table" class="headerlink" title="table"></a>table</h5><p>æ˜¾ç¤ºè¿™ä¸€è¡Œçš„æ•°æ®æ˜¯å…³äºå“ªå¼ è¡¨çš„</p>
<h5 id="partitions"><a href="#partitions" class="headerlink" title="partitions"></a>partitions</h5><h5 id="type"><a href="#type" class="headerlink" title="type"></a>type</h5><p>typeæ˜¾ç¤ºçš„æ˜¯è®¿é—®ç±»å‹ï¼Œæ˜¯è¾ƒä¸ºé‡è¦çš„ä¸€ä¸ªæŒ‡æ ‡ï¼Œç»“æœå€¼ä»æœ€å¥½åˆ°æœ€åä¾æ¬¡æ˜¯ï¼š </p>
<p>system &gt; const &gt; eq_ref &gt; ref &gt; fulltext &gt; ref_or_null &gt; index_merge &gt; unique_subquery &gt; index_subquery &gt; range(å°½é‡ä¿è¯) &gt; index &gt; ALL </p>
<p>ä¸€èˆ¬æ¥è¯´ï¼Œå¾—ä¿è¯æŸ¥è¯¢è‡³å°‘è¾¾åˆ°rangeçº§åˆ«ï¼Œæœ€å¥½èƒ½è¾¾åˆ°refã€‚</p>
<blockquote>
<p>The <code>type</code> column of <a target="_blank" rel="noopener" href="https://dev.mysql.com/doc/refman/8.0/en/explain.html"><code>EXPLAIN</code></a> output describes how tables are joined. In JSON-formatted output, these are found as values of the <code>access_type</code> property. The following list describes the join types, ordered from the best type to the worst:</p>
</blockquote>
<ul>
<li><p><strong>system</strong>ï¼šè¡¨åªæœ‰ä¸€è¡Œè®°å½•ï¼ˆç­‰äºç³»ç»Ÿè¡¨ï¼‰ï¼Œè¿™æ˜¯constç±»å‹çš„ç‰¹åˆ—ï¼Œå¹³æ—¶ä¸ä¼šå‡ºç°ï¼Œè¿™ä¸ªä¹Ÿå¯ä»¥å¿½ç•¥ä¸è®¡</p>
</li>
<li><p><strong>const</strong>ï¼šè¡¨ç¤ºé€šè¿‡ç´¢å¼•ä¸€æ¬¡å°±æ‰¾åˆ°äº†,constç”¨äºæ¯”è¾ƒprimary keyæˆ–è€…uniqueç´¢å¼•ã€‚å› ä¸ºåªåŒ¹é…ä¸€è¡Œæ•°æ®ï¼Œæ‰€ä»¥å¾ˆå¿«ã€‚å¦‚å°†ä¸»é”®ç½®äºwhereåˆ—è¡¨ä¸­ï¼ŒMySQLå°±èƒ½å°†è¯¥æŸ¥è¯¢è½¬æ¢ä¸ºä¸€ä¸ªå¸¸é‡</p>
</li>
<li><p><strong>eq_ref</strong>ï¼šå”¯ä¸€æ€§ç´¢å¼•æ‰«æï¼Œå¯¹äºæ¯ä¸ªç´¢å¼•é”®ï¼Œè¡¨ä¸­åªæœ‰ä¸€æ¡è®°å½•ä¸ä¹‹åŒ¹é…ã€‚å¸¸è§äºä¸»é”®æˆ–å”¯ä¸€ç´¢å¼•æ‰«æ</p>
</li>
<li><p><strong>ref</strong>ï¼šéå”¯ä¸€æ€§ç´¢å¼•æ‰«æï¼Œè¿”å›åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„æ‰€æœ‰è¡Œ.æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ç§ç´¢å¼•è®¿é—®ï¼Œå®ƒè¿”å›æ‰€æœ‰åŒ¹é…æŸä¸ªå•ç‹¬å€¼çš„è¡Œï¼Œç„¶è€Œï¼Œå®ƒå¯èƒ½ä¼šæ‰¾åˆ°å¤šä¸ªç¬¦åˆæ¡ä»¶çš„è¡Œï¼Œæ‰€ä»¥ä»–åº”è¯¥å±äºæŸ¥æ‰¾å’Œæ‰«æçš„æ··åˆä½“</p>
</li>
<li><p><strong>fulltext</strong>ï¼šæ‰§è¡Œä½¿ç”¨å…¨æ–‡ç´¢å¼•</p>
</li>
<li><p><strong>ref_or_null</strong>ï¼šå¯¹äºæŸä¸ªå­—æ®µæ—¢éœ€è¦å…³è”æ¡ä»¶ï¼Œä¹Ÿéœ€è¦nullå€¼å¾—æƒ…å†µä¸‹ã€‚æŸ¥è¯¢ä¼˜åŒ–å™¨ä¼šé€‰æ‹©ç”¨ref_or_nullè¿æ¥æŸ¥è¯¢ã€‚</p>
</li>
<li><p><strong>index_merge</strong>ï¼šåœ¨æŸ¥è¯¢è¿‡ç¨‹ä¸­éœ€è¦å¤šä¸ªç´¢å¼•ç»„åˆä½¿ç”¨ï¼Œé€šå¸¸å‡ºç°åœ¨æœ‰ or çš„å…³é”®å­—çš„sqlä¸­</p>
</li>
<li><p><strong>unique_subquery</strong>ï¼šè¯¥è”æ¥ç±»å‹ç±»ä¼¼äºindex_subqueryã€‚ å­æŸ¥è¯¢ä¸­çš„å”¯ä¸€ç´¢å¼•</p>
</li>
<li><p><strong>index_subquery</strong>ï¼šåˆ©ç”¨ç´¢å¼•æ¥å…³è”å­æŸ¥è¯¢ï¼Œä¸å†å…¨è¡¨æ‰«æã€‚</p>
</li>
<li><p><strong>range</strong>ï¼šåªæ£€ç´¢ç»™å®šèŒƒå›´çš„è¡Œ,ä½¿ç”¨ä¸€ä¸ªç´¢å¼•æ¥é€‰æ‹©è¡Œã€‚key åˆ—æ˜¾ç¤ºä½¿ç”¨äº†å“ªä¸ªç´¢å¼•ï¼Œä¸€èˆ¬å°±æ˜¯åœ¨ä½ çš„whereè¯­å¥ä¸­å‡ºç°äº†betweenã€&lt;ã€&gt;ã€inç­‰çš„æŸ¥è¯¢</p>
<p>è¿™ç§èŒƒå›´æ‰«æç´¢å¼•æ‰«ææ¯”å…¨è¡¨æ‰«æè¦å¥½ï¼Œå› ä¸ºå®ƒåªéœ€è¦å¼€å§‹äºç´¢å¼•çš„æŸä¸€ç‚¹ï¼Œè€Œç»“æŸè¯­å¦ä¸€ç‚¹ï¼Œä¸ç”¨æ‰«æå…¨éƒ¨ç´¢å¼•ã€‚</p>
</li>
<li><p><strong>index</strong>ï¼šFull Index Scanï¼Œindexä¸ALLåŒºåˆ«ä¸ºindexç±»å‹åªéå†ç´¢å¼•æ ‘ã€‚è¿™é€šå¸¸æ¯”ALLå¿«ï¼Œ<em>å› ä¸ºç´¢å¼•æ–‡ä»¶é€šå¸¸æ¯”æ•°æ®æ–‡ä»¶å°</em>ã€‚ï¼ˆä¹Ÿå°±æ˜¯è¯´è™½ç„¶allå’ŒIndexéƒ½æ˜¯è¯»å…¨è¡¨ï¼Œä½†indexæ˜¯ä»ç´¢å¼•ä¸­è¯»å–çš„ï¼Œè€Œallæ˜¯ä»ç¡¬ç›˜ä¸­è¯»çš„ï¼‰</p>
</li>
<li><p><strong>ALL</strong>ï¼šFull Table Scanï¼Œå°†éå†å…¨è¡¨ä»¥æ‰¾åˆ°åŒ¹é…çš„è¡Œ</p>
</li>
</ul>
<h5 id="possible-keys"><a href="#possible-keys" class="headerlink" title="possible_keys"></a>possible_keys</h5><p>æ˜¾ç¤ºå¯èƒ½åº”ç”¨åœ¨è¿™å¼ è¡¨ä¸­çš„ç´¢å¼•ï¼Œä¸€ä¸ªæˆ–å¤šä¸ªã€‚æŸ¥è¯¢æ¶‰åŠåˆ°çš„å­—æ®µä¸Šè‹¥å­˜åœ¨ç´¢å¼•ï¼Œåˆ™è¯¥ç´¢å¼•å°†è¢«åˆ—å‡ºï¼Œä½†ä¸ä¸€å®šè¢«æŸ¥è¯¢å®é™…ä½¿ç”¨</p>
<h5 id="key"><a href="#key" class="headerlink" title="key"></a>key</h5><p>å®é™…ä½¿ç”¨çš„ç´¢å¼•åã€‚å¦‚æœä¸ºNULLï¼Œåˆ™æ²¡æœ‰ä½¿ç”¨ç´¢å¼•</p>
<h5 id="key-len"><a href="#key-len" class="headerlink" title="key_len"></a>key_len</h5><p>è¡¨ç¤ºç´¢å¼•ä¸­ä½¿ç”¨çš„å­—èŠ‚æ•°ï¼Œå¯é€šè¿‡è¯¥åˆ—è®¡ç®—æŸ¥è¯¢ä¸­ä½¿ç”¨çš„ç´¢å¼•çš„é•¿åº¦ã€‚ </p>
<p>key_lenå­—æ®µèƒ½å¤Ÿå¸®ä½ æ£€æŸ¥æ˜¯å¦å……åˆ†çš„åˆ©ç”¨ä¸Šäº†ç´¢å¼•</p>
<h5 id="ref"><a href="#ref" class="headerlink" title="ref"></a>ref</h5><p>æ˜¾ç¤ºç´¢å¼•çš„å“ªä¸€åˆ—è¢«ä½¿ç”¨äº†ï¼Œå¦‚æœå¯èƒ½çš„è¯ï¼Œæ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚å“ªä¸ªç´¢å¼•åˆ—æˆ–å¸¸é‡è¢«ç”¨æ¥æŸ¥æ‰¾å€¼</p>
<h5 id="rows"><a href="#rows" class="headerlink" title="rows"></a>rows</h5><p>rowsåˆ—æ˜¾ç¤ºMySQLè®¤ä¸ºå®ƒæ‰§è¡ŒæŸ¥è¯¢æ—¶å¿…é¡»æ£€æŸ¥çš„è¡Œæ•°ã€‚è¶Šå°‘è¶Šå¥½</p>
<h5 id="filtered"><a href="#filtered" class="headerlink" title="filtered"></a>filtered</h5><blockquote>
<p>The <code>filtered</code> column indicates an estimated percentage of table rows that are filtered by the table condition. The maximum value is 100, which means no filtering of rows occurred. Values decreasing from 100 indicate increasing amounts of filtering. <code>rows</code> shows the estimated number of rows examined and <code>rows</code> Ã— <code>filtered</code> shows the number of rows that are joined with the following table. For example, if <code>rows</code> is 1000 and <code>filtered</code> is 50.00 (50%), the number of rows to be joined with the following table is 1000 Ã— 50% = 500.</p>
</blockquote>
<h5 id="Extra"><a href="#Extra" class="headerlink" title="Extra"></a>Extra</h5><p>åŒ…å«ä¸é€‚åˆåœ¨å…¶ä»–åˆ—ä¸­æ˜¾ç¤ºä½†ååˆ†é‡è¦çš„é¢å¤–ä¿¡æ¯</p>
<ul>
<li><p>Using filesortï¼šè¯´æ˜mysqlä¼šå¯¹æ•°æ®ä½¿ç”¨ä¸€ä¸ªå¤–éƒ¨çš„ç´¢å¼•æ’åºï¼Œè€Œä¸æ˜¯æŒ‰ç…§è¡¨å†…çš„ç´¢å¼•é¡ºåºè¿›è¡Œè¯»å–ã€‚MySQLä¸­æ— æ³•åˆ©ç”¨ç´¢å¼•å®Œæˆçš„æ’åºæ“ä½œç§°ä¸ºâ€œæ–‡ä»¶æ’åºâ€</p>
</li>
<li><p>Using temporary ï¼šä½¿äº†ç”¨ä¸´æ—¶è¡¨ä¿å­˜ä¸­é—´ç»“æœ,MySQLåœ¨å¯¹æŸ¥è¯¢ç»“æœæ’åºæ—¶ä½¿ç”¨ä¸´æ—¶è¡¨ã€‚å¸¸è§äºæ’åº order by å’Œåˆ†ç»„æŸ¥è¯¢ group byã€‚</p>
</li>
<li><p>Using indexï¼šè¡¨ç¤ºç›¸åº”çš„selectæ“ä½œä¸­ä½¿ç”¨äº†è¦†ç›–ç´¢å¼•(Covering Index)ï¼Œé¿å…è®¿é—®äº†è¡¨çš„æ•°æ®è¡Œï¼Œæ•ˆç‡ä¸é”™ï¼</p>
<p>å¦‚æœåŒæ—¶å‡ºç°using whereï¼Œè¡¨æ˜ç´¢å¼•è¢«ç”¨æ¥æ‰§è¡Œç´¢å¼•é”®å€¼çš„æŸ¥æ‰¾;å¦‚æœæ²¡æœ‰åŒæ—¶å‡ºç°using whereï¼Œè¡¨æ˜ç´¢å¼•åªæ˜¯ç”¨æ¥è¯»å–æ•°æ®è€Œéåˆ©ç”¨ç´¢å¼•æ‰§è¡ŒæŸ¥æ‰¾ã€‚</p>
<p>è¦†ç›–ç´¢å¼•ï¼šå°±æ˜¯selectçš„å­—æ®µå’ŒæŸ¥æ‰¾æ—¶ç”¨çš„ç´¢å¼•çš„å­—æ®µæ˜¯ç›¸åŒçš„ï¼Œè¿™æ ·ä¸ç”¨è¯»å–æ•°æ®ä¸­æŸ¥æ‰¾å…¶ä»–è¡Œäº†ã€‚</p>
</li>
<li><p>Using whereï¼šä½¿ç”¨whereè¿‡æ»¤</p>
</li>
<li><p>using join bufferï¼šä½¿ç”¨è¿æ¥ç¼“å­˜</p>
</li>
<li><p>impossible whereï¼šwhereå­å¥çš„å€¼æ€»æ˜¯falseï¼Œä¸èƒ½ç”¨æ¥è·å–ä»»ä½•å…ƒç»„</p>
</li>
<li><p>select tables optimized awayï¼šåœ¨æ²¡æœ‰GROUPBYå­å¥çš„æƒ…å†µä¸‹ï¼ŒåŸºäºç´¢å¼•ä¼˜åŒ–MIN/MAXæ“ä½œæˆ–è€…å¯¹äºMyISAMå­˜å‚¨å¼•æ“ä¼˜åŒ–COUNT(*)æ“ä½œï¼Œä¸å¿…ç­‰åˆ°æ‰§è¡Œé˜¶æ®µå†è¿›è¡Œè®¡ç®—ï¼ŒæŸ¥è¯¢æ‰§è¡Œè®¡åˆ’ç”Ÿæˆçš„é˜¶æ®µå³å®Œæˆä¼˜åŒ–ã€‚</p>
</li>
</ul>
</div></section><ul class="post-copyright"><li class="post-copyright-author"><strong>Post author: </strong>Eric</li><li class="post-copyright-link"><strong>Post link: </strong><a href="http://soda1.github.io/2020/11/13/mysql/%E9%AB%98%E7%BA%A7/2020_11_13-explain%E5%85%B3%E9%94%AE%E5%AD%97/" title="explainå…³é”®å­—">http://soda1.github.io/2020/11/13/mysql/%E9%AB%98%E7%BA%A7/2020_11_13-explain%E5%85%B3%E9%94%AE%E5%AD%97/</a></li><li class="post-copyright-license"><strong>Copyright Notice: </strong>All articles in this blog are licensed under <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank" rel="noopener" title="CC BY-NC-SA 4.0 "><span class="icon iconify" data-icon="ri:creative-commons-line"></span><span class="icon iconify" data-icon="ri:creative-commons-by-line"></span><span class="icon iconify" data-icon="ri:creative-commons-nc-line"></span><span class="icon iconify" data-icon="ri:creative-commons-sa-line"></span></a> unless otherwise stated.</li></ul></article><div class="post-nav"><div class="post-nav-item"><a class="post-nav-prev" href="/2020/11/14/mysql/%E9%AB%98%E7%BA%A7/2020_11_14-%E6%9F%A5%E8%AF%A2%E4%BC%98%E5%8C%96/" rel="prev" title="ç´¢å¼•ä¼˜åŒ–æŠ€å·§"><span class="icon iconify" data-icon="ri:arrow-left-s-line"></span><span class="post-nav-text">ç´¢å¼•ä¼˜åŒ–æŠ€å·§</span></a></div><div class="post-nav-item"><a class="post-nav-next" href="/2020/11/12/mysql/%E9%AB%98%E7%BA%A7/2020_11_12-mysql%E7%B4%A2%E5%BC%95/" rel="next" title="mysqlç´¢å¼•"><span class="post-nav-text">mysqlç´¢å¼•</span><span class="icon iconify" data-icon="ri:arrow-right-s-line"></span></a></div></div></div><div class="hty-card" id="comment"><style>.utterances {
  max-width: 100%;
}</style><script src="https://utteranc.es/client.js" repo="soda1/soda1.github.io" issue-term="pathname" theme="github-light" crossorigin="anonymous" async></script></div></main><footer class="sidebar-translate" id="footer"><div class="copyright"><span>&copy; 2019 â€“ 2023 </span><span class="with-love" id="animate"><span class="icon iconify" data-icon="ri:cloud-line"></span></span><span class="author"> Eric</span></div><div class="powered"><span>Powered by <a href="https://hexo.io" target="_blank" rel="noopener">Hexo</a> v5.2.0</span><span class="footer-separator">|</span><span>Theme - <a rel="noopener" href="https://github.com/YunYouJun/hexo-theme-yun" target="_blank"><span>Yun</span></a> v1.10.9</span></div></footer></div><a class="hty-icon-button" id="back-to-top" aria-label="back-to-top" href="#"><span class="icon iconify" data-icon="ri:arrow-up-s-line"></span><svg class="progress-circle-container" viewBox="0 0 100 100"><circle class="progress-circle" id="progressCircle" cx="50" cy="50" r="48" fill="none" stroke="#0078E7" stroke-width="2" stroke-linecap="round"></circle></svg></a><a class="popup-trigger hty-icon-button icon-search" id="search" href="javascript:;" title="Search"><span class="site-state-item-icon"><span class="icon iconify" data-icon="ri:search-line"></span></span></a><script>window.addEventListener("DOMContentLoaded", () => {
  // Handle and trigger popup window
  document.querySelector(".popup-trigger").addEventListener("click", () => {
    document.querySelector(".popup").classList.add("show");
    setTimeout(() => {
      document.querySelector(".search-input").focus();
    }, 100);
  });

  // Monitor main search box
  const onPopupClose = () => {
    document.querySelector(".popup").classList.remove("show");
  };

  document.querySelector(".popup-btn-close").addEventListener("click", () => {
    onPopupClose();
  });

  window.addEventListener("keyup", event => {
    if (event.key === "Escape") {
      onPopupClose();
    }
  });
});
</script><script src="https://fastly.jsdelivr.net/npm/hexo-generator-searchdb@1.4.0/dist/search.js"></script><script src="/js/search/local-search.js" defer type="module"></script><div class="popup search-popup"><div class="search-header"><span class="popup-btn-close close-icon hty-icon-button"><span class="icon iconify" data-icon="ri:close-line"></span></span></div><div class="search-input-container"><input class="search-input" id="local-search-input" type="text" placeholder="Searching..." value=""></div><div class="search-result-container"></div></div><div class="aplayer no-destroy" id="aplayer" data-id="308168565" data-server="netease" data-type="playlist" data-fixed="true" data-theme="#0078E7" data-loop="all" data-order="list" data-preload="auto" data-volume="0.7" data-mutex data-lrctype="0" data-listmaxheight="340px" data-storagename="metingjs"></div></body></html>