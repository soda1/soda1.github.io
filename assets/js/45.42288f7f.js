(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{364:function(t,a,s){"use strict";s.r(a);var r=s(7),v=Object(r.a)({},(function(){var t=this,a=t._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h4",{attrs:{id:"分库分表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分库分表"}},[t._v("#")]),t._v(" 分库分表")]),t._v(" "),a("p",[t._v("当单表数据量过大时，性能会受到比较大的影响。分库分表指的是将单表的数据通过某种规则平均的分散在多个数据库或多张表中。")]),t._v(" "),a("h4",{attrs:{id:"水平分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#水平分"}},[t._v("#")]),t._v(" "),a("strong",[t._v("水平分")])]),t._v(" "),a("h5",{attrs:{id:"水平分表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#水平分表"}},[t._v("#")]),t._v(" "),a("strong",[t._v("水平分表")])]),t._v(" "),a("p",[t._v("场景：当单表仅仅是因为数据量过大时，影响SQL查询效率")]),t._v(" "),a("p",[t._v("理论：以字段为依据，按照一定策略（hash、range等），将一个表中的数据以行为单位拆分到多个表中，尽可能的让数据均匀分布")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/soda1/img/main/20230310104313.jpg",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"水平分库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#水平分库"}},[t._v("#")]),t._v(" 水平分库")]),t._v(" "),a("p",[t._v("场景：系统绝对并发量上来了，网络IO成为了瓶颈")]),t._v(" "),a("p",[t._v("理论：以字段为依据，按照一定策略（hash、range等），将一个库中的数据拆分到多个库中，从而将网络请求摊分到多个库中")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/soda1/img/main/20230310104511.jpg",alt:""}})]),t._v(" "),a("h4",{attrs:{id:"垂直分"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#垂直分"}},[t._v("#")]),t._v(" 垂直分")]),t._v(" "),a("h5",{attrs:{id:"垂直分表"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#垂直分表"}},[t._v("#")]),t._v(" 垂直分表")]),t._v(" "),a("p",[t._v("场景：当表中记录不多时，由于字段比较多，单行存储空间比较大，产生IO瓶颈")]),t._v(" "),a("p",[t._v("理论：以字段为依据，按字段的活跃性，将表中字段拆到不同的表（主表和扩展表）中，一般用主键来将主表和扩展表关联在一起")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/soda1/img/main/20230310105634.jpg",alt:""}})]),t._v(" "),a("h5",{attrs:{id:"垂直分库"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#垂直分库"}},[t._v("#")]),t._v(" 垂直分库")]),t._v(" "),a("p",[t._v("场景：系统绝对并发量上来了，并且可以按业务抽象出单独的模块")]),t._v(" "),a("p",[t._v("理论：以表为依据，按业务归属，将不同表划分到不同库中")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/soda1/img/main/20230310110314.jpg",alt:""}})])])}),[],!1,null,null,null);a.default=v.exports}}]);