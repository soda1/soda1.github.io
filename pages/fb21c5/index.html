<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SQL语言 | Eric&#39;s Blog</title>
    <meta name="generator" content="VuePress 1.9.5">
    <link rel="icon" href="/img/favicon.ico">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3077305_pt8umhrn4k9.css">
    <link rel="stylesheet" href="https://at.alicdn.com/t/font_3129839_xft6cqs5gc.css">
    <noscript><meta http-equiv="refresh" content="0; url=https://www.youngkbt.cn/noscript/"><style>.theme-vdoing-content { display:none }</noscript>
    <meta name="description" content="eric learning note">
    <meta name="keywords" content="">
    <meta name="theme-color" content="#11a8cd">
    
    <link rel="preload" href="/assets/css/0.styles.0fe93c5a.css" as="style"><link rel="preload" href="/assets/js/app.bf699621.js" as="script"><link rel="preload" href="/assets/js/3.3436467f.js" as="script"><link rel="preload" href="/assets/js/46.f37816ca.js" as="script"><link rel="preload" href="/assets/js/10.9a72486f.js" as="script"><link rel="prefetch" href="/assets/js/1.26756604.js"><link rel="prefetch" href="/assets/js/100.04543c66.js"><link rel="prefetch" href="/assets/js/101.2d3488cb.js"><link rel="prefetch" href="/assets/js/102.418b789a.js"><link rel="prefetch" href="/assets/js/103.9532b662.js"><link rel="prefetch" href="/assets/js/104.78d70c51.js"><link rel="prefetch" href="/assets/js/105.9fdf6751.js"><link rel="prefetch" href="/assets/js/106.01ffef24.js"><link rel="prefetch" href="/assets/js/107.91681b93.js"><link rel="prefetch" href="/assets/js/108.b1a3fa8f.js"><link rel="prefetch" href="/assets/js/109.8cb5e11f.js"><link rel="prefetch" href="/assets/js/11.ccdd8cf7.js"><link rel="prefetch" href="/assets/js/110.e64abb50.js"><link rel="prefetch" href="/assets/js/111.3e7b11a6.js"><link rel="prefetch" href="/assets/js/112.586ea58c.js"><link rel="prefetch" href="/assets/js/113.53b37f5b.js"><link rel="prefetch" href="/assets/js/12.092eac9c.js"><link rel="prefetch" href="/assets/js/13.99ea902e.js"><link rel="prefetch" href="/assets/js/14.512c4534.js"><link rel="prefetch" href="/assets/js/15.93a6db06.js"><link rel="prefetch" href="/assets/js/16.95c9b795.js"><link rel="prefetch" href="/assets/js/17.919c001e.js"><link rel="prefetch" href="/assets/js/18.3fadd6cb.js"><link rel="prefetch" href="/assets/js/19.33860f56.js"><link rel="prefetch" href="/assets/js/20.29dfe9b1.js"><link rel="prefetch" href="/assets/js/21.9dcc66a4.js"><link rel="prefetch" href="/assets/js/22.27d9b71d.js"><link rel="prefetch" href="/assets/js/23.e1763846.js"><link rel="prefetch" href="/assets/js/24.33cde7a7.js"><link rel="prefetch" href="/assets/js/25.4123dd74.js"><link rel="prefetch" href="/assets/js/26.547dfbd0.js"><link rel="prefetch" href="/assets/js/27.d2a75d8e.js"><link rel="prefetch" href="/assets/js/28.ca95b81c.js"><link rel="prefetch" href="/assets/js/29.55b79527.js"><link rel="prefetch" href="/assets/js/30.31a3b8f2.js"><link rel="prefetch" href="/assets/js/31.5b5cb0e5.js"><link rel="prefetch" href="/assets/js/32.71603e44.js"><link rel="prefetch" href="/assets/js/33.67d2e605.js"><link rel="prefetch" href="/assets/js/34.d91c8057.js"><link rel="prefetch" href="/assets/js/35.a43dde74.js"><link rel="prefetch" href="/assets/js/36.5ce34637.js"><link rel="prefetch" href="/assets/js/37.c28b1b44.js"><link rel="prefetch" href="/assets/js/38.4f3172bd.js"><link rel="prefetch" href="/assets/js/39.3def3e6e.js"><link rel="prefetch" href="/assets/js/4.888d20a3.js"><link rel="prefetch" href="/assets/js/40.4e8ba409.js"><link rel="prefetch" href="/assets/js/41.00c1436b.js"><link rel="prefetch" href="/assets/js/42.ba8ec5c0.js"><link rel="prefetch" href="/assets/js/43.9dc77278.js"><link rel="prefetch" href="/assets/js/44.a3f6fb4e.js"><link rel="prefetch" href="/assets/js/45.52e4dcae.js"><link rel="prefetch" href="/assets/js/47.95412c7e.js"><link rel="prefetch" href="/assets/js/48.9537f538.js"><link rel="prefetch" href="/assets/js/49.68d7f621.js"><link rel="prefetch" href="/assets/js/5.16545323.js"><link rel="prefetch" href="/assets/js/50.ad35ebdc.js"><link rel="prefetch" href="/assets/js/51.2059edf8.js"><link rel="prefetch" href="/assets/js/52.884b18ba.js"><link rel="prefetch" href="/assets/js/53.610ed7bc.js"><link rel="prefetch" href="/assets/js/54.c46ba90a.js"><link rel="prefetch" href="/assets/js/55.4a8445d8.js"><link rel="prefetch" href="/assets/js/56.6d254faf.js"><link rel="prefetch" href="/assets/js/57.b1e5e70a.js"><link rel="prefetch" href="/assets/js/58.e53f4bad.js"><link rel="prefetch" href="/assets/js/59.2eff34b0.js"><link rel="prefetch" href="/assets/js/6.ccade734.js"><link rel="prefetch" href="/assets/js/60.3affd944.js"><link rel="prefetch" href="/assets/js/61.3990c788.js"><link rel="prefetch" href="/assets/js/62.ad1101c6.js"><link rel="prefetch" href="/assets/js/63.541ca9c0.js"><link rel="prefetch" href="/assets/js/64.0aeea176.js"><link rel="prefetch" href="/assets/js/65.ec022aeb.js"><link rel="prefetch" href="/assets/js/66.6ceb5f21.js"><link rel="prefetch" href="/assets/js/67.bc3b48d9.js"><link rel="prefetch" href="/assets/js/68.2d9f9397.js"><link rel="prefetch" href="/assets/js/69.8b7482e7.js"><link rel="prefetch" href="/assets/js/7.cb08bcbc.js"><link rel="prefetch" href="/assets/js/70.98e251cf.js"><link rel="prefetch" href="/assets/js/71.e201473f.js"><link rel="prefetch" href="/assets/js/72.545763c2.js"><link rel="prefetch" href="/assets/js/73.9a6a8212.js"><link rel="prefetch" href="/assets/js/74.7e6f98bd.js"><link rel="prefetch" href="/assets/js/75.70a87e16.js"><link rel="prefetch" href="/assets/js/76.8dbbe082.js"><link rel="prefetch" href="/assets/js/77.fba0f1ac.js"><link rel="prefetch" href="/assets/js/78.01033cba.js"><link rel="prefetch" href="/assets/js/79.c545d86d.js"><link rel="prefetch" href="/assets/js/8.f0ba832a.js"><link rel="prefetch" href="/assets/js/80.9ffe16ea.js"><link rel="prefetch" href="/assets/js/81.540f2a9a.js"><link rel="prefetch" href="/assets/js/82.02269547.js"><link rel="prefetch" href="/assets/js/83.e6582f0e.js"><link rel="prefetch" href="/assets/js/84.5c5d2a60.js"><link rel="prefetch" href="/assets/js/85.af9b4f76.js"><link rel="prefetch" href="/assets/js/86.6b463907.js"><link rel="prefetch" href="/assets/js/87.683827e5.js"><link rel="prefetch" href="/assets/js/88.ae0c122c.js"><link rel="prefetch" href="/assets/js/89.5ccdbba5.js"><link rel="prefetch" href="/assets/js/9.6c196fec.js"><link rel="prefetch" href="/assets/js/90.d9e46ca7.js"><link rel="prefetch" href="/assets/js/91.350cb971.js"><link rel="prefetch" href="/assets/js/92.514c2819.js"><link rel="prefetch" href="/assets/js/93.a7dd43fd.js"><link rel="prefetch" href="/assets/js/94.53a77fb9.js"><link rel="prefetch" href="/assets/js/95.20c498b2.js"><link rel="prefetch" href="/assets/js/96.ce910a7b.js"><link rel="prefetch" href="/assets/js/97.2c9555b3.js"><link rel="prefetch" href="/assets/js/98.bbf4891b.js"><link rel="prefetch" href="/assets/js/99.1df48c16.js">
    <link rel="stylesheet" href="/assets/css/0.styles.0fe93c5a.css">
  </head>
  <body class="theme-mode-light">
    <div id="app" data-server-rendered="true"><div class="theme-container sidebar-open have-rightmenu"><header class="navbar blur"><div title="目录" class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/img/logo.png" alt="Eric's Blog" class="logo"> <span class="site-name can-hide">Eric's Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java/" class="nav-link">Java</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/cs-basics/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-basics/" class="nav-link">基础</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><a href="/algo/" class="nav-link">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/framework/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/spring/" class="nav-link">Spring</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/kafka/" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----> <a href="/designPat/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/person/" class="nav-link">个人</a></li><li class="dropdown-item"><!----> <a href="/english/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar-hover-trigger"></div> <aside class="sidebar" style="display:none;"><div class="blogger"><img src="/img/avatar.jpg"> <div class="blogger-info"><h3>Eric Li</h3> <span>热爱可抵岁月漫长</span></div></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">首页</a></div><div class="nav-item"><a href="/java/" class="nav-link">Java</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="计算机基础" class="dropdown-title"><a href="/cs-basics/" class="link-title">计算机基础</a> <span class="title" style="display:none;">计算机基础</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/Linux/" class="nav-link">Linux</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="数据库" class="dropdown-title"><a href="/database/" class="link-title">数据库</a> <span class="title" style="display:none;">数据库</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/db-basics/" class="nav-link">基础</a></li><li class="dropdown-item"><!----> <a href="/mysql/" class="nav-link">MySQL</a></li><li class="dropdown-item"><!----> <a href="/redis/" class="nav-link">Redis</a></li></ul></div></div><div class="nav-item"><a href="/algo/" class="nav-link">算法</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="框架" class="dropdown-title"><a href="/framework/" class="link-title">框架</a> <span class="title" style="display:none;">框架</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/spring/" class="nav-link">Spring</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="更多" class="dropdown-title"><a href="/more/" class="link-title">更多</a> <span class="title" style="display:none;">更多</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/git/" class="nav-link">Git</a></li><li class="dropdown-item"><!----> <a href="/kafka/" class="nav-link">Kafka</a></li><li class="dropdown-item"><!----> <a href="/designPat/" class="nav-link">设计模式</a></li><li class="dropdown-item"><!----> <a href="/person/" class="nav-link">个人</a></li><li class="dropdown-item"><!----> <a href="/english/" class="nav-link">English</a></li></ul></div></div><div class="nav-item"><a href="/about/" class="nav-link">关于</a></div><div class="nav-item"><a href="/pages/beb6c0bd8a66cea6/" class="nav-link">收藏</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="索引" class="dropdown-title"><a href="/archives/" class="link-title">索引</a> <span class="title" style="display:none;">索引</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/" class="nav-link">分类</a></li><li class="dropdown-item"><!----> <a href="/tags/" class="nav-link">标签</a></li><li class="dropdown-item"><!----> <a href="/archives/" class="nav-link">归档</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>基础</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/pages/fb21c5/" aria-current="page" class="active sidebar-link">SQL语言</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/pages/4b35d6/" class="sidebar-link">三大范式</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>MySQL</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Redis</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <div><main class="page"><div class="theme-vdoing-wrapper "><div class="articleInfo-wrap" data-v-06225672><div class="articleInfo" data-v-06225672><ul class="breadcrumbs" data-v-06225672><li data-v-06225672><a href="/" title="首页" class="iconfont icon-home router-link-active" data-v-06225672></a></li> <li data-v-06225672><a href="/database/#数据库" data-v-06225672>数据库</a></li><li data-v-06225672><a href="/database/#基础" data-v-06225672>基础</a></li></ul> <div class="info" data-v-06225672><div title="作者" class="author iconfont icon-touxiang" data-v-06225672><a href="javascript:;" data-v-06225672>eric</a></div> <div title="创建时间" class="date iconfont icon-riqi" data-v-06225672><a href="javascript:;" data-v-06225672>2023-04-18</a></div> <!----></div></div></div> <!----> <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">SQL语言<!----></h1> <!----> <div class="theme-vdoing-content content__default"><p>结构化查询语言 (SQL) 是一种编程语言，用于在关系数据库中存储和处理信息。关系数据库以表格形式存储信息，行和列分别表示不同的数据属性和数据值之间的各种关系。您可以使用 SQL 语句从数据库中存储、更新、删除、搜索和检索信息。下面以SQL命令分类来展开</p> <h4 id="ddl-data-definition-language"><a href="#ddl-data-definition-language" class="header-anchor">#</a> DDL(Data Definition Language )</h4> <p>DDL是用于定义和管理数据库schema的一组SQL命令，DDL语句用于创建，修改，删除数据库对象，比如表、索引、视图、存储过程等。常见指令如<code>CREATE</code> 、<code>ALTER</code> 、<code>DROP</code>等</p> <h5 id="数据定义"><a href="#数据定义" class="header-anchor">#</a> 数据定义</h5> <h6 id="数据库"><a href="#数据库" class="header-anchor">#</a> <strong>数据库</strong></h6> <p><strong>创建数据库</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">DATABASE</span> test<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>删除数据库</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">DATABASE</span> test<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>修改数据库</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">DATABASE</span> test <span class="token keyword">RENAME</span> test1&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="表"><a href="#表" class="header-anchor">#</a> 表</h6> <p><strong>创建表</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> customers <span class="token punctuation">(</span>
   customer_id <span class="token keyword">INT</span> <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span><span class="token punctuation">,</span>
   first_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   last_name <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
   email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">UNIQUE</span><span class="token punctuation">,</span>
   phone <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p><strong>修改表</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">TABLE</span> customers
<span class="token keyword">ADD</span> address <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span> <span class="token keyword">AFTER</span> last_name<span class="token punctuation">,</span>
<span class="token keyword">MODIFY</span> phone <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">20</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>删除表</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">TABLE</span> customers<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>删除整表数据</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">truncate</span> <span class="token keyword">table</span> customers
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="索引"><a href="#索引" class="header-anchor">#</a> 索引</h6> <p><strong>创建索引</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> idx_customer_email <span class="token keyword">ON</span> customers <span class="token punctuation">(</span>email<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>修改索引</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">INDEX</span> idx_customer_email <span class="token keyword">RENAME</span> <span class="token keyword">TO</span> idx_cust_email<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>删除索引</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">INDEX</span> idx_cust_email <span class="token keyword">ON</span> customers<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="存储过程"><a href="#存储过程" class="header-anchor">#</a> 存储过程</h6> <p><strong>创建存储过程</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> sp_get_customer_details <span class="token punctuation">(</span><span class="token operator">IN</span> customer_id <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
   <span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> customers <span class="token keyword">WHERE</span> customer_id <span class="token operator">=</span> customer_id<span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>修改存储过程</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">ALTER</span> <span class="token keyword">PROCEDURE</span> sp_get_customer_details
<span class="token keyword">MODIFY</span> customer_id <span class="token keyword">INT</span><span class="token punctuation">,</span>
<span class="token keyword">MODIFY</span> email <span class="token keyword">VARCHAR</span><span class="token punctuation">(</span><span class="token number">150</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>删除存储过程</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">PROCEDURE</span> sp_get_customer_details<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="视图"><a href="#视图" class="header-anchor">#</a> 视图</h6> <p><strong>创建视图</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">VIEW</span> employee_info <span class="token keyword">AS</span>
<span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> first_name<span class="token punctuation">,</span> last_name<span class="token punctuation">,</span> salary
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>使用视图</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> employee_info<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>删除视图</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DROP</span> <span class="token keyword">VIEW</span> employee_info<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="数据类型"><a href="#数据类型" class="header-anchor">#</a> 数据类型</h5> <h6 id="数值型"><a href="#数值型" class="header-anchor">#</a> 数值型</h6> <p>1、整型</p> <ul><li><p><code>tinyint(1 byte)</code>、<code>smallint(2 bytes)</code>、<code>mediumint(3 bytes)</code>、<code>int/integer(4 bytes)</code>、<code>bigint(8 bytes)</code></p></li> <li><p>特点：</p> <p>①都可以设置无符号和有符号，默认有符号，通过unsigned设置无符号
②如果超出了范围，会报out or range异常，插入临界值
③长度可以不指定，默认会有一个长度
长度代表显示的最大宽度，如果不够则左边用0填充，但需要搭配zerofill，并且默认变为无符号整型</p></li></ul> <p>2、浮点型</p> <ul><li><p>定点数：<code>decimal</code>(M,D)</p></li> <li><p>浮点数:
<code>float(M,D)</code>   4
<code>double(M,D)</code>  8</p> <p>特点：</p> <p>①M代表整数部位+小数部位的个数，D代表小数部位
②如果超出范围，则报out or range异常，并且插入临界值
③M和D都可以省略，但对于定点数，M默认为10，D默认为0
④如果精度要求较高，则优先考虑使用定点数</p></li></ul> <h6 id="字符型"><a href="#字符型" class="header-anchor">#</a> 字符型</h6> <ul><li><p><code>char</code>、<code>varchar</code>、<code>binary</code>、<code>varbinary</code>、<code>enum</code>、<code>set</code>、<code>text</code>、<code>blob</code></p></li> <li><p>char：固定长度的字符，写法为char(M)，最大长度不能超过M，其中M可以省略，默认为1</p></li> <li><p>varchar：可变长度的字符，写法为varchar(M)，最大长度不能超过M，其中M不可以省略</p></li></ul> <h6 id="日期型"><a href="#日期型" class="header-anchor">#</a> 日期型</h6> <p><code>year</code>：年
<code>date</code>：日期
<code>time</code>：时间
<code>datetime</code>：日期+时间          8 bytes<br> <code>timestamp</code>：日期+时间         4 bytes  比较容易受时区、语法模式、版本的影响，更能反映当前时区的真实时间</p> <h5 id="约束"><a href="#约束" class="header-anchor">#</a> 约束</h5> <p>约束用于规定表中列的值范围，常见的约束如下：</p> <ul><li><code>NOT NULL</code>：非空，该字段的值必填</li> <li><code>UNIQUE</code>：唯一，该字段的值不可重复</li> <li><code>DEFAULT</code>：默认，该字段的值不用手动插入有默认值</li> <li><code>CHECK</code>：检查，mysql不支持</li> <li><code>PRIMARY KEY</code>：主键，该字段的值不可重复并且非空</li> <li><code>FOREIGN KEY</code>：外键，该字段的值引用了另外的表的字段</li></ul> <h4 id="dql-data-query-language"><a href="#dql-data-query-language" class="header-anchor">#</a> <strong>DQL</strong> (Data Query Language)</h4> <p>DQL表示查询语言，用于检索数据库中表的数据，常见指令如<code>SELECT</code> 、<code>WHERE</code>、<code>JOIN</code> 等</p> <h5 id="基础查询"><a href="#基础查询" class="header-anchor">#</a> 基础查询</h5> <p><strong>查询多个字段</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> first_name<span class="token punctuation">,</span> last_name <span class="token keyword">FROM</span> customers<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>查询所有字段</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> customers<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>查询常量</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>select 常量值;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p><strong>取别名</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> first_name <span class="token keyword">as</span> xing<span class="token punctuation">,</span> last_name <span class="token keyword">as</span> name <span class="token keyword">FROM</span> customers<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="条件查询"><a href="#条件查询" class="header-anchor">#</a> 条件查询</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> customers
<span class="token keyword">WHERE</span> email <span class="token operator">=</span> <span class="token string">'john.doe@example.com'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>条件运算符：</p> <table><thead><tr><th>=</th> <th>Equal</th></tr></thead> <tbody><tr><td>&gt;</td> <td>Greater than</td></tr> <tr><td>&lt;</td> <td>Less than</td></tr> <tr><td>&gt;=</td> <td>Greater than or equal</td></tr> <tr><td>&lt;=</td> <td>Less than or equal</td></tr> <tr><td>&lt;&gt;</td> <td>Not equal. <strong>Note:</strong> In some versions of SQL this operator may be written as !=</td></tr> <tr><td>BETWEEN</td> <td>Between a certain range</td></tr> <tr><td>LIKE</td> <td>Search for a pattern</td></tr> <tr><td>IN</td> <td>To specify multiple possible values for a column</td></tr></tbody></table> <h6 id="between示例"><a href="#between示例" class="header-anchor">#</a> BETWEEN示例</h6> <p>表示对某个范围的值进行匹配</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> customer_id<span class="token punctuation">,</span> last_name
<span class="token keyword">FROM</span> customers <span class="token keyword">where</span> customer_id <span class="token operator">BETWEEN</span> <span class="token number">1</span> <span class="token operator">AND</span> <span class="token number">5</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="like示例"><a href="#like示例" class="header-anchor">#</a> LIKE示例</h6> <p>只有文本字段才能使用<code>LIKE</code>，支持通配符<code>%（任何字符出现任意次数）</code>和<code>_（任何字符只出现一次）</code>。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> first_name<span class="token punctuation">,</span> last_name
<span class="token keyword">FROM</span> customers <span class="token keyword">WHERE</span> first_name <span class="token operator">like</span> <span class="token string">'%ba'</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="in示例"><a href="#in示例" class="header-anchor">#</a> IN示例</h6> <p>表示在指定的值内进行匹配</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> first_name<span class="token punctuation">,</span> last_name
<span class="token keyword">FROM</span> customers <span class="token keyword">where</span> customer_id <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h6 id="逻辑运算符"><a href="#逻辑运算符" class="header-anchor">#</a> <strong>逻辑运算符</strong></h6> <p><code>WHERE</code>结合<code>AND</code>、<code>OR</code>、<code>NOT</code>用于来增加更多的条件</p> <p><code>AND</code> 操作符表示左右条件都要满足</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> customers
<span class="token keyword">WHERE</span> first_name <span class="token operator">=</span> <span class="token string">'John'</span> <span class="token operator">AND</span> last_name <span class="token operator">=</span> <span class="token string">'Doe'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>OR</code> 操作符表示左右条件满足任意一个即可</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> customers
<span class="token keyword">WHERE</span> first_name <span class="token operator">=</span> <span class="token string">'John'</span> <span class="token operator">OR</span> last_name <span class="token operator">=</span> <span class="token string">'Doe'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><code>NOT</code> 操作符用于否定一个条件</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> customers
<span class="token keyword">WHERE</span> <span class="token operator">NOT</span> first_name <span class="token operator">=</span> <span class="token string">'John'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h5 id="distinct"><a href="#distinct" class="header-anchor">#</a> DISTINCT</h5> <p>对返回数据去重，列值全部相同才算重复</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token keyword">DISTINCT</span> first_name<span class="token punctuation">,</span> last_name
<span class="token keyword">FROM</span> customers
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h5 id="limit"><a href="#limit" class="header-anchor">#</a> LIMIT</h5> <p>限制返回行数，有两个参数，第一个参数为起始行，从 0 开始；第二个参数为返回的总行数</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 返回前5行</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> customers <span class="token keyword">LIMIT</span> <span class="token number">5</span><span class="token punctuation">;</span>
<span class="token comment">-- 返回第3 - 5行</span>
<span class="token keyword">SELECT</span> <span class="token operator">*</span> <span class="token keyword">FROM</span> customers <span class="token keyword">LIMIT</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="排序"><a href="#排序" class="header-anchor">#</a> 排序</h5> <p><code>ORDER BY</code>用于对返回数据进行排序，默认升序（ASC），使用<code>ASC</code>，<code>DESC</code>来控制升降序</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 先按last_name升序排，last_name相同则再按first_name降序排</span>
<span class="token keyword">SELECT</span> first_name<span class="token punctuation">,</span> last_name
<span class="token keyword">FROM</span> customers
<span class="token keyword">ORDER</span> <span class="token keyword">BY</span> last_name <span class="token keyword">ASC</span><span class="token punctuation">,</span> first_name <span class="token keyword">DESC</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h5 id="分组"><a href="#分组" class="header-anchor">#</a> 分组</h5> <p><code>GROUP BY</code> 对已经查询好的结果集进行分组。在查出了包含所有字段的结果集后，然后根据<code>GROUP BY</code> 的分组字段进行分组，因此也要求**<code>select</code>只能包含<code>GROUP BY</code> 后的字段与聚合函数**。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 单字段分组</span>
<span class="token keyword">SELECT</span> country<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> total_customers
<span class="token keyword">FROM</span> customers
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> country<span class="token punctuation">;</span>
<span class="token comment">-- 多个字段分组</span>
<span class="token keyword">SELECT</span> country<span class="token punctuation">,</span> city<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> total_customers
<span class="token keyword">FROM</span> customers
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> country<span class="token punctuation">,</span> city<span class="token punctuation">;</span>
<span class="token comment">-- 包含统计函数</span>
<span class="token keyword">SELECT</span> country<span class="token punctuation">,</span> <span class="token function">AVG</span><span class="token punctuation">(</span>balance<span class="token punctuation">)</span> <span class="token keyword">AS</span> avg_balance
<span class="token keyword">FROM</span> accounts
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> country<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p><code>HAVING</code>是对分组后的子集进行过滤。跟在后面的可以是<strong>字段</strong>或<strong>分组函数</strong>，字段是需要在<code>select</code>中出现的字段，但是如果使用分组函数就可以不用。</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 查询顾客数大于5的国家</span>
<span class="token keyword">SELECT</span> country<span class="token punctuation">,</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> total_customers
<span class="token keyword">FROM</span> customers
<span class="token keyword">GROUP</span> <span class="token keyword">BY</span> country
<span class="token keyword">HAVING</span> <span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token operator">*</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="联表查询"><a href="#联表查询" class="header-anchor">#</a> 联表查询</h5> <p><code>JOIN</code>子句用于将多表结合起来查询，根据相关的列将记录合并在一起</p> <p><code>INNER JOIN</code>：内连接</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> orders<span class="token punctuation">.</span>order_id<span class="token punctuation">,</span> customers<span class="token punctuation">.</span>first_name<span class="token punctuation">,</span> customers<span class="token punctuation">.</span>last_name
<span class="token keyword">FROM</span> orders
<span class="token keyword">INNER</span> <span class="token keyword">JOIN</span> customers
<span class="token keyword">ON</span> orders<span class="token punctuation">.</span>customer_id <span class="token operator">=</span> customers<span class="token punctuation">.</span>customer_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>LEFT JOIN</code>：左连接</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> customers<span class="token punctuation">.</span>first_name<span class="token punctuation">,</span> customers<span class="token punctuation">.</span>last_name<span class="token punctuation">,</span> orders<span class="token punctuation">.</span>order_id
<span class="token keyword">FROM</span> customers
<span class="token keyword">LEFT</span> <span class="token keyword">JOIN</span> orders
<span class="token keyword">ON</span> customers<span class="token punctuation">.</span>customer_id <span class="token operator">=</span> orders<span class="token punctuation">.</span>customer_id<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>连接类型：</p> <table><thead><tr><th>连接类型</th> <th>描述</th></tr></thead> <tbody><tr><td>INNER JOIN</td> <td>Returns all rows from both tables where the join condition is true</td></tr> <tr><td>LEFT JOIN (or LEFT OUTER JOIN)</td> <td>Returns all rows from the left table and matching rows from the right table, or NULL values if there is no match</td></tr> <tr><td>RIGHT JOIN (or RIGHT OUTER JOIN)</td> <td>Returns all rows from the right table and matching rows from the left table, or NULL values if there is no match</td></tr> <tr><td>FULL OUTER JOIN (or FULL JOIN)</td> <td>Returns all rows from both tables, including unmatched rows. If there is no match, NULL values are returned for the columns in the other table</td></tr></tbody></table> <p>SQL JOIN用法如下图</p> <p><img src="https://raw.githubusercontent.com/soda1/img/main/20230419183422.png" alt=""></p> <h5 id="联合查询"><a href="#联合查询" class="header-anchor">#</a> 联合查询</h5> <p><code>UNION</code>操作将多次查询结果合并成一个结果，每个<code>SELECT</code>语句都必须有相同数量的列且顺序、字段名要一致</p> <p><code>UNION</code>：对结果去重</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">FROM</span> customers
<span class="token keyword">UNION</span>
<span class="token keyword">SELECT</span> user_id<span class="token punctuation">,</span> username
<span class="token keyword">FROM</span> users<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>UNION ALL</code>：包含重复项</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> order_id<span class="token punctuation">,</span> customer_id
<span class="token keyword">FROM</span> orders
<span class="token keyword">UNION</span> <span class="token keyword">ALL</span>
<span class="token keyword">SELECT</span> order_id<span class="token punctuation">,</span> customer_id
<span class="token keyword">FROM</span> order_history<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h5 id="子查询"><a href="#子查询" class="header-anchor">#</a> 子查询</h5> <p>嵌套在其它语句的<code>SELECT</code>语句称为子查询</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> <span class="token operator">*</span>
<span class="token keyword">FROM</span> orders
<span class="token keyword">WHERE</span> customer_id <span class="token operator">IN</span> <span class="token punctuation">(</span>
  <span class="token keyword">SELECT</span> customer_id
  <span class="token keyword">FROM</span> customers
  <span class="token keyword">WHERE</span> first_name <span class="token operator">=</span> <span class="token string">'John'</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">SELECT</span> first_name<span class="token punctuation">,</span> last_name<span class="token punctuation">,</span> <span class="token punctuation">(</span>
  <span class="token keyword">SELECT</span> <span class="token function">AVG</span><span class="token punctuation">(</span>order_total<span class="token punctuation">)</span>
  <span class="token keyword">FROM</span> orders
  <span class="token keyword">WHERE</span> customer_id <span class="token operator">=</span> customers<span class="token punctuation">.</span>customer_id
<span class="token punctuation">)</span> <span class="token keyword">AS</span> avg_order_total
<span class="token keyword">FROM</span> customers<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><h5 id="sql查询总结语法"><a href="#sql查询总结语法" class="header-anchor">#</a> SQL查询总结语法</h5> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 查询列表    
<span class="token keyword">from</span> 表<span class="token number">1</span> 别名     
连接类型 <span class="token keyword">join</span> 表<span class="token number">2</span>   
<span class="token keyword">on</span> 连接条件         
<span class="token keyword">where</span> 筛选          
<span class="token keyword">group</span> <span class="token keyword">by</span> 分组列表   
<span class="token keyword">having</span> 筛选         
<span class="token keyword">order</span> <span class="token keyword">by</span>排序列表    
<span class="token keyword">limit</span> 起始条目索引，条目数<span class="token punctuation">;</span>  
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h4 id="dml-data-manipulation-language"><a href="#dml-data-manipulation-language" class="header-anchor">#</a> <strong>DML(Data Manipulation Language)</strong></h4> <p>DML是用于修改数据库数据的一组SQL命令,DML语句用于插入、更新、删除表数据，常见指令如<code>INSERT</code> 、<code>UPDATE</code>、<code>DELETE</code></p> <h5 id="增删改"><a href="#增删改" class="header-anchor">#</a> 增删改</h5> <p><strong>插入数据</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> customers <span class="token punctuation">(</span>first_name<span class="token punctuation">,</span> last_name<span class="token punctuation">,</span> email<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token string">'John'</span><span class="token punctuation">,</span> <span class="token string">'Doe'</span><span class="token punctuation">,</span> <span class="token string">'johndoe@example.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><ol><li>要求值的类型和字段的类型要一致或兼容</li> <li>值和字段一一对应</li> <li>字段名可以省略，表示要填入所有的列，值要按表的字段顺序填入</li></ol> <p><strong>更新数据</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">UPDATE</span> customers
<span class="token keyword">SET</span> email <span class="token operator">=</span> <span class="token string">'newemail@example.com'</span>
<span class="token keyword">WHERE</span> customer_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p><strong>删除数据</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> customers
<span class="token keyword">WHERE</span> customer_id <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h4 id="dcl-data-control-language"><a href="#dcl-data-control-language" class="header-anchor">#</a> <strong>DCL (Data Control Language)</strong></h4> <p>DCL是用于管理数据库访问和用户权限的一组SQL命令，控制用户对数据库对象的各种权限，常见指令如<code>GRANT</code>、<code>REVOKE</code>、 <code>CREATE(DROP) USER</code>等</p> <p><code>GRANT</code>：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 授予用户表权限</span>
<span class="token keyword">GRANT</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span><span class="token punctuation">,</span> <span class="token keyword">UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">DELETE</span> <span class="token keyword">ON</span> table_name <span class="token keyword">TO</span> user_name<span class="token punctuation">;</span>
<span class="token comment">-- 授予用户角色权限</span>
<span class="token keyword">GRANT</span> role_name <span class="token keyword">TO</span> user_name<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><code>REVOKE</code>：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 取消用户表权限</span>
<span class="token keyword">REVOKE</span> <span class="token keyword">SELECT</span><span class="token punctuation">,</span> <span class="token keyword">INSERT</span><span class="token punctuation">,</span> <span class="token keyword">UPDATE</span><span class="token punctuation">,</span> <span class="token keyword">DELETE</span> <span class="token keyword">ON</span> table_name <span class="token keyword">FROM</span> user_name<span class="token punctuation">;</span>
<span class="token comment">-- 取消用户角色权限</span>
<span class="token keyword">REVOKE</span> role_name <span class="token keyword">FROM</span> user_name<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p><strong>创建新用户</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">USER</span> user_name IDENTIFIED <span class="token keyword">BY</span> <span class="token string">'password'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h4 id="tcl-transaction-control-language"><a href="#tcl-transaction-control-language" class="header-anchor">#</a> <strong>TCL (Transaction Control Language)</strong></h4> <p>TCL是用于管理数据库中的事务的一组SQL命令，用于控制DML语句，常见指令如<code>COMMIT</code>、<code>ROLLBACK</code> 、<code>START TRANSACTION</code></p> <p>示例</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">START</span> <span class="token keyword">TRANSACTION</span><span class="token punctuation">;</span>
<span class="token comment">-- perform some operations</span>
<span class="token keyword">COMMIT</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h4 id="mysql中的函数"><a href="#mysql中的函数" class="header-anchor">#</a> MySQL中的函数</h4> <p>不同的数据库函数不同，下面为MySQL函数</p> <h5 id="字符函数"><a href="#字符函数" class="header-anchor">#</a> 字符函数</h5> <table><thead><tr><th>concat</th> <th>字符连接</th></tr></thead> <tbody><tr><td>substr</td> <td>截取子串</td></tr> <tr><td>lpad</td> <td>左填充</td></tr> <tr><td>upper</td> <td>变大写</td></tr> <tr><td>lower</td> <td>变小写</td></tr> <tr><td>replace</td> <td>替换</td></tr> <tr><td>length</td> <td>获取字节长度</td></tr> <tr><td>trim</td> <td>去前后空格</td></tr> <tr><td>rpad</td> <td>右填充</td></tr> <tr><td>instr:</td> <td>获取子串第一次出现的索引</td></tr></tbody></table> <h5 id="数学函数"><a href="#数学函数" class="header-anchor">#</a> 数学函数</h5> <table><thead><tr><th>ceil</th> <th>向上取整</th></tr></thead> <tbody><tr><td>round</td> <td>四舍五入</td></tr> <tr><td>mod</td> <td>取模</td></tr> <tr><td>floor</td> <td>向下取整</td></tr> <tr><td>truncate</td> <td>截断</td></tr> <tr><td>rand</td> <td>获取随机数，返回0-1之间的小数</td></tr></tbody></table> <h5 id="日期函数"><a href="#日期函数" class="header-anchor">#</a> 日期函数</h5> <table><thead><tr><th>now</th> <th>返回当前日期+时间</th></tr></thead> <tbody><tr><td>year</td> <td>返回年</td></tr> <tr><td>month</td> <td>返回月</td></tr> <tr><td>day</td> <td>返回日</td></tr> <tr><td>date_format</td> <td>将日期转换成字符</td></tr> <tr><td>curdate</td> <td>返回当前日期</td></tr> <tr><td>str_to_date</td> <td>将字符转换成日期</td></tr> <tr><td>curtime</td> <td>返回当前时间</td></tr> <tr><td>hour</td> <td>小时</td></tr> <tr><td>minute</td> <td>分钟</td></tr> <tr><td>second</td> <td>秒</td></tr> <tr><td>monthname</td> <td>以英文形式返回月</td></tr> <tr><td>datediff</td> <td>返回两个日期相差的天数</td></tr></tbody></table> <h5 id="其他函数"><a href="#其他函数" class="header-anchor">#</a> 其他函数</h5> <table><thead><tr><th>version</th> <th>当前数据库服务器的版本</th></tr></thead> <tbody><tr><td>database</td> <td>当前打开的数据库</td></tr> <tr><td>user</td> <td>当前用户</td></tr> <tr><td>password('字符')</td> <td>返回该字符的密码形式</td></tr> <tr><td>md5('字符')</td> <td>返回该字符的md5加密形式</td></tr></tbody></table> <h5 id="流程控制函数"><a href="#流程控制函数" class="header-anchor">#</a> 流程控制函数</h5> <ul><li><p>if(条件表达式，表达式1，表达式2)：如果条件表达式成立，返回表达式1，否则返回表达式2</p></li> <li><p>case</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">case</span> 变量或表达式或字段
	<span class="token keyword">when</span> 常量<span class="token number">1</span> <span class="token keyword">then</span> 值<span class="token number">1</span>
	<span class="token keyword">when</span> 常量<span class="token number">2</span> <span class="token keyword">then</span> 值<span class="token number">2</span>
	<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">else</span> 值n
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">case</span> 
<span class="token keyword">when</span> 条件<span class="token number">1</span> <span class="token keyword">then</span> 值<span class="token number">1</span>
<span class="token keyword">when</span> 条件<span class="token number">2</span> <span class="token keyword">then</span> 值<span class="token number">2</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">else</span> 值n
<span class="token keyword">end</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div></li></ul> <h5 id="分组函数"><a href="#分组函数" class="header-anchor">#</a> 分组函数</h5> <table><thead><tr><th>max</th> <th>最大值</th></tr></thead> <tbody><tr><td>min</td> <td>最小值</td></tr> <tr><td>sum</td> <td>求和</td></tr> <tr><td>avg</td> <td>平均值</td></tr> <tr><td>count</td> <td>统计行数 count(*)：统计所有行， count(col)：统计非NULL的行</td></tr></tbody></table> <h4 id="mysql流程控制结构"><a href="#mysql流程控制结构" class="header-anchor">#</a> MySQL流程控制结构</h4> <h5 id="顺序结构"><a href="#顺序结构" class="header-anchor">#</a> 顺序结构</h5> <p>程序顺序执行，没什么好说的</p> <h5 id="分支结构"><a href="#分支结构" class="header-anchor">#</a> 分支结构</h5> <ul><li><p>if函数</p> <p>语法：if(条件，值1，值2)，条件成立取值1</p> <p>示例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> id<span class="token punctuation">,</span> name<span class="token punctuation">,</span> salary<span class="token punctuation">,</span> <span class="token keyword">IF</span><span class="token punctuation">(</span>salary <span class="token operator">&gt;</span> <span class="token number">50000</span><span class="token punctuation">,</span> salary <span class="token operator">*</span> <span class="token number">0.1</span><span class="token punctuation">,</span> salary <span class="token operator">*</span> <span class="token number">0.05</span><span class="token punctuation">)</span> <span class="token keyword">AS</span> bonus
<span class="token keyword">FROM</span> employees<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div></li> <li><p>case结构</p> <p>执行多条件查询</p> <p>语法：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CASE</span>
    <span class="token keyword">WHEN</span> condition1 <span class="token keyword">THEN</span> result1
    <span class="token keyword">WHEN</span> condition2 <span class="token keyword">THEN</span> result2
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
    <span class="token keyword">ELSE</span> default_result
<span class="token keyword">END</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>示例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">SELECT</span> student_name<span class="token punctuation">,</span>
    <span class="token keyword">CASE</span>
        <span class="token keyword">WHEN</span> score <span class="token operator">&gt;=</span> <span class="token number">90</span> <span class="token keyword">THEN</span> <span class="token string">'A'</span>
        <span class="token keyword">WHEN</span> score <span class="token operator">&gt;=</span> <span class="token number">80</span> <span class="token keyword">THEN</span> <span class="token string">'B'</span>
        <span class="token keyword">WHEN</span> score <span class="token operator">&gt;=</span> <span class="token number">70</span> <span class="token keyword">THEN</span> <span class="token string">'C'</span>
        <span class="token keyword">WHEN</span> score <span class="token operator">&gt;=</span> <span class="token number">60</span> <span class="token keyword">THEN</span> <span class="token string">'D'</span>
        <span class="token keyword">ELSE</span> <span class="token string">'F'</span>
    <span class="token keyword">END</span> <span class="token keyword">AS</span> grade
<span class="token keyword">FROM</span> student_scores<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div></li> <li><p>if结构</p> <p>语法：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- if ... then..只可存在于begin end中</span>
<span class="token keyword">if</span> 条件<span class="token number">1</span> <span class="token keyword">then</span> 语句<span class="token number">1</span><span class="token punctuation">;</span>
<span class="token keyword">elseif</span> 条件<span class="token number">2</span> <span class="token keyword">then</span> 语句<span class="token number">2</span><span class="token punctuation">;</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token keyword">else</span> 语句n<span class="token punctuation">;</span>
<span class="token keyword">end</span> <span class="token keyword">if</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>示例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">PROCEDURE</span> myp1<span class="token punctuation">(</span><span class="token operator">in</span> num <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">if</span> num <span class="token operator">&lt;</span> <span class="token number">1000</span> <span class="token keyword">THEN</span> <span class="token keyword">SELECT</span> <span class="token string">'穷鬼'</span><span class="token punctuation">;</span>
	<span class="token keyword">ELSEIF</span> num <span class="token operator">&gt;</span> <span class="token number">5000</span> <span class="token keyword">THEN</span> <span class="token keyword">SELECT</span> <span class="token string">'有钱人'</span><span class="token punctuation">;</span>
	<span class="token keyword">ELSE</span> <span class="token keyword">SELECT</span> <span class="token string">'中产阶级'</span><span class="token punctuation">;</span>
	<span class="token keyword">end</span> <span class="token keyword">if</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div></li></ul> <h5 id="循环结构"><a href="#循环结构" class="header-anchor">#</a> 循环结构</h5> <p><strong>while</strong></p> <p>语法：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 只可存在于begin end中</span>
<span class="token keyword">while</span> 循环条件 <span class="token keyword">do</span>
	循环体
<span class="token keyword">end</span> <span class="token keyword">while</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>示例：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">procedure</span> do_while<span class="token punctuation">(</span><span class="token operator">in</span> num <span class="token keyword">INT</span><span class="token punctuation">)</span>
<span class="token keyword">BEGIN</span>
	<span class="token keyword">DECLARE</span> i <span class="token keyword">INT</span> <span class="token keyword">default</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">WHILE</span> i <span class="token operator">&lt;=</span> num <span class="token keyword">DO</span>
		<span class="token keyword">INSERT</span> <span class="token keyword">into</span> <span class="token keyword">user</span> <span class="token keyword">VALUES</span><span class="token punctuation">(</span><span class="token boolean">null</span><span class="token punctuation">,</span><span class="token string">'xxx'</span><span class="token punctuation">,</span><span class="token string">'xxxx'</span><span class="token punctuation">,</span><span class="token string">'xxxx'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">set</span> i <span class="token operator">=</span> i<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token keyword">END</span> <span class="token keyword">WHILE</span><span class="token punctuation">;</span>
<span class="token keyword">END</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><h4 id="mysql中变量"><a href="#mysql中变量" class="header-anchor">#</a> MySQL中变量</h4> <h5 id="系统变量"><a href="#系统变量" class="header-anchor">#</a> 系统变量</h5> <p><strong>分类</strong>：</p> <ul><li><p><strong>全局系统变量</strong>（global）</p> <p>服务器层面上的，必须拥有super权限才能为系统变量赋值，作用域为整个服务器，也就是针对于所有连接（会话）有效</p></li> <li><p><strong>会话系统变量</strong>（session）</p> <p>服务器为每一个连接的客户端都提供了系统变量，作用域为当前的连接（会话）</p></li></ul> <p><strong>查看系统变量</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 如果没有显式声明global还是session，则默认是session</span>
<span class="token comment">-- 模糊匹配查看变量</span>
<span class="token keyword">show</span> 【<span class="token keyword">global</span><span class="token operator">|</span><span class="token keyword">session</span> 】variables <span class="token operator">like</span> <span class="token string">''</span><span class="token punctuation">;</span>
<span class="token comment">-- 查看指定变量</span>
<span class="token keyword">select</span> @@【<span class="token keyword">global</span><span class="token operator">|</span><span class="token keyword">session</span>】<span class="token punctuation">.</span>变量名<span class="token punctuation">;</span> 
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p><strong>配置系统变量</strong></p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 如果没有显式声明global还是session，则默认是session</span>
<span class="token comment">-- 方式一</span>
<span class="token keyword">set</span> 【<span class="token keyword">global</span><span class="token operator">|</span><span class="token keyword">session</span> 】 变量名<span class="token operator">=</span>值<span class="token punctuation">;</span>
<span class="token comment">-- 方式二</span>
<span class="token keyword">set</span> @<span class="token variable">@global.</span>变量名<span class="token operator">=</span>值<span class="token punctuation">;</span>
<span class="token keyword">set</span> @@变量名<span class="token operator">=</span>值；
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h5 id="自定义变量"><a href="#自定义变量" class="header-anchor">#</a> 自定义变量</h5> <h6 id="用户变量"><a href="#用户变量" class="header-anchor">#</a> <strong>用户变量</strong></h6> <p>作用域：针对于当前连接（会话）生效</p> <p>声明并赋值：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">set</span> @变量名<span class="token operator">=</span>值<span class="token punctuation">;</span>或
<span class="token keyword">set</span> @变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>或
<span class="token keyword">select</span> @变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>更新值：</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 方式一</span>
<span class="token keyword">set</span> @变量名<span class="token operator">=</span>值<span class="token punctuation">;</span>或	
<span class="token keyword">set</span> @变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>或
<span class="token keyword">select</span> @变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>
<span class="token comment">-- 方式二</span>
<span class="token keyword">select</span> xx <span class="token keyword">into</span> @变量名 <span class="token keyword">from</span> 表<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> @变量名<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h6 id="局部变量"><a href="#局部变量" class="header-anchor">#</a> 局部变量</h6> <p>作用域：仅仅在定义它的begin end中有效</p> <p>位置：只能放在begin end中，而且<strong>声明</strong>只能放在第一句</p> <p>声明</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">declare</span> 变量名 类型 【<span class="token keyword">default</span> 值】<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>赋值或更新</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token comment">-- 方式一</span>
<span class="token keyword">set</span> 变量名<span class="token operator">=</span>值<span class="token punctuation">;</span>或	
<span class="token keyword">set</span> 变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>或	
<span class="token keyword">select</span> @变量名:<span class="token operator">=</span>值<span class="token punctuation">;</span>
<span class="token comment">-- 方式二</span>
<span class="token keyword">select</span> xx <span class="token keyword">into</span> 变量名 <span class="token keyword">from</span> 表<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>使用</p> <div class="language-sql line-numbers-mode"><pre class="language-sql"><code><span class="token keyword">select</span> 变量名<span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h5 id="小结"><a href="#小结" class="header-anchor">#</a> 小结</h5> <p>用户变量必须使用在变量名前加上**@<strong>，局部变量除了<code>select @变量名:=值</code>外都不用加</strong>@**。如果在begin end中没有声明就赋值或更新，那么此变量会是用户变量</p> <p>更多SQL命令参考<a href="https://www.w3schools.com/sql/sql_union.asp" target="_blank" rel="noopener noreferrer">SQL Tutorial<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div></div> <!----> <div class="page-edit"><!----> <!----> <div class="last-updated"><span class="prefix">上次更新:</span> <span class="time">2023/08/13, 18:58:31</span></div></div> <div class="page-nav-wapper"><div class="page-nav-centre-wrap"><!----> <a href="/pages/4b35d6/" class="page-nav-centre page-nav-centre-next"><div class="tooltip">三大范式</div></a></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/pages/4b35d6/">三大范式</a>→
      </span></p></div></div></div> <div class="article-list"><div class="article-title"><a href="/archives/" class="iconfont icon-bi">最近更新</a></div> <div class="article-wrapper"><dl><dd>01</dd> <dt><a href="/pages/0d1b20/"><div>
            test
            <!----></div></a> <span class="date">08-13</span></dt></dl><dl><dd>02</dd> <dt><a href="/pages/9a4bb3/"><div>
            05-14
            <!----></div></a> <span class="date">08-13</span></dt></dl><dl><dd>03</dd> <dt><a href="/pages/195049/"><div>
            06-11
            <!----></div></a> <span class="date">08-13</span></dt></dl> <dl><dd></dd> <dt><a href="/archives/" class="more">更多文章&gt;</a></dt></dl></div></div></main></div> <div class="footer"><div class="icons"><a href="mailto:lbprivateacc@gmail.com" title="发邮件" target="_blank" class="iconfont icon-youjian"></a><a href="https://github.com/soda1" title="GitHub" target="_blank" class="iconfont icon-github"></a></div> 
  Theme by
  <a href="https://github.com/xugaoyi/vuepress-theme-vdoing" target="_blank" title="本站主题">Vdoing</a> 
    | Copyright © 2021-2023
    <span>Eric Li | <a href="https://github.com/soda1" target="_blank">MIT License</a></span></div> <div class="buttons"><div title="返回顶部" class="button blur go-to-top iconfont icon-fanhuidingbu" style="display:none;"></div> <div title="去评论" class="button blur go-to-comment iconfont icon-pinglun" style="display:none;"></div> <div title="主题模式" class="button blur theme-mode-but iconfont icon-zhuti"><ul class="select-box" style="display:none;"><li class="iconfont icon-zidong">
          跟随系统
        </li><li class="iconfont icon-rijianmoshi">
          浅色模式
        </li><li class="iconfont icon-yejianmoshi">
          深色模式
        </li><li class="iconfont icon-yuedu">
          阅读模式
        </li></ul></div></div> <!----> <!----> <!----></div><div class="global-ui"><div></div><div></div></div></div>
    <script src="/assets/js/app.bf699621.js" defer></script><script src="/assets/js/3.3436467f.js" defer></script><script src="/assets/js/46.f37816ca.js" defer></script><script src="/assets/js/10.9a72486f.js" defer></script>
  </body>
</html>
